/* =========================
   강제 레이아웃 override (최우선순위)
   ========================= */

/* 모든 상위 요소 넓이 제한 해제 */
#report,
#report .report-container,
#report .report-main-grid,
#report .report-builder-section,
#report .report-builder,
#report .filter-section {
    max-width: none !important;
    width: 100% !important;
}

/* 템플릿 갤러리 강제 6열 */
.template-gallery[style],
#report .template-gallery[style],
body #report .template-gallery[style],
html body #report .template-gallery[style] {
    grid-template-columns: repeat(6, 1fr) !important;
    display: grid !important;
}

/* 필터 그리드 강제 6열 */
.filter-grid[style],
#report .filter-grid[style], 
body #report .filter-grid[style],
html body #report .filter-grid[style] {
    grid-template-columns: repeat(6, 1fr) !important;
    display: grid !important;
}

/* =========================
   기존 스타일 유지
   ========================= */

#report .report-container {
    /* 최대 넓이 제한 완전 제거하여 화면 끝까지 사용 */
    width: 100%;
    max-width: none; /* 최대 넓이 제한 제거 */
    margin: 0 auto;
    background: var(--content-bg, white); /* 기존 대시보드의 컨텐츠 배경색 변수 활용 */
    border-radius: var(--border-radius, 8px); /* 기존 대시보드의 테두리 둥글기 변수 활용 */
    box-shadow: var(--shadow-md, 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1));
    overflow: hidden;
    color: var(--text-primary); /* 텍스트 색상도 변수를 사용해 통일 */
}

/* 내부 요소들이 흰색 배경을 갖도록 수정 */
#report .report-tabs-container,
#report .report-builder,
#report .report-preview,
#report .analysis-category {
    background: var(--content-bg, white);
}

/* 일부 요소들의 배경색을 더 연한 회색으로 변경하여 구분감 부여 */
#report .report-preview,
#report .option-group,
#report .analysis-item {
     background: var(--main-bg, #f8fafc);
}


/* 헤더 */
#report .report-header {
    background: linear-gradient(135deg, #4f46e5, #7c3aed);
    color: white;
    padding: 30px;
    text-align: center;
    position: relative;
    overflow: hidden;
}

#report .report-header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="white" opacity="0.1"/><circle cx="75" cy="75" r="1" fill="white" opacity="0.1"/><circle cx="50" cy="10" r="0.5" fill="white" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
}

#report .report-header h1 {
    font-size: 2.5rem;
    margin-bottom: 10px;
    position: relative;
    z-index: 1;
}

#report .report-header p {
    font-size: 1.1rem;
    opacity: 0.9;
    position: relative;
    z-index: 1;
}

/* 탭 시스템 */
#report .report-tabs-container {
    padding: 20px 30px 0;
    border-bottom: 1px solid var(--border-color, #e5e7eb);
}

#report .report-tabs {
    display: flex;
    gap: 10px;
    margin-bottom: 0;
}

#report .report-tab {
    padding: 15px 25px;
    border: none;
    background: transparent;
    color: var(--text-secondary, #6b7280);
    font-weight: 600;
    border-radius: 12px 12px 0 0;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    display: flex;
    align-items: center;
    gap: 8px;
}

#report .report-tab:hover {
    background: rgba(79, 70, 229, 0.1);
    color: #4f46e5;
    transform: translateY(-2px);
}

#report .report-tab.active {
    background: var(--content-bg, white);
    color: #4f46e5;
    box-shadow: 0 -4px 20px rgba(79, 70, 229, 0.1);
}

#report .report-tab.active::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: #4f46e5;
}

/* 메인 콘텐츠 */
#report .report-content {
    display: grid;
    grid-template-columns: 1fr 400px;
    gap: 30px;
    padding: 30px;
    min-height: 600px;
}

#report .report-builder {
    border-radius: 16px;
    padding: 25px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.05);
    background: var(--main-bg);
    width: 100%; /* 명시적으로 전체 너비 사용 */
    max-width: none; /* 최대 넓이 제한 완전 제거 */
    min-height: 600px; /* 최소 높이 설정으로 미리보기와 균형 맞춤 */
    height: fit-content;
}

#report .report-preview {
    border-radius: 16px;
    padding: 25px;
    border: 2px dashed var(--border-color, #d1d5db);
    transition: all 0.3s ease;
}

#report .report-preview.has-content {
    border-color: #4f46e5;
    box-shadow: 0 4px 20px rgba(79, 70, 229, 0.1);
}

/* 필터 섹션 */
#report .filter-section {
    margin-bottom: 15px; /* 여백 더 줄임 */
}

#report .filter-section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px; /* 헤더 아래 여백도 줄임 */
    position: relative; /* 플로팅 버튼 기준점 */
}

/* 페이지 우상단 고정 플로팅 미리보기 버튼 */
#report .floating-preview-btn-fixed {
    position: fixed;
    top: 100px; /* 헤더 아래 적당한 위치 */
    right: 30px; /* 페이지 우측에서 30px */
    z-index: 1000; /* 최상위 레이어 */
    
    background: linear-gradient(135deg, #10b981, #059669); /* 초록색 그라데이션 */
    color: white;
    border: none;
    padding: 14px 24px; /* 더 큰 패딩 */
    border-radius: 50px; /* 완전한 둥근 모서리 */
    font-weight: 700;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    align-items: center;
    gap: 10px;
    min-width: 180px;
    justify-content: center;
    
    /* 강한 플로팅 효과 */
    box-shadow: 
        0 12px 30px rgba(16, 185, 129, 0.3),
        0 6px 15px rgba(16, 185, 129, 0.2),
        0 3px 6px rgba(0, 0, 0, 0.1);
    
    /* 기본 상승 효과 */
    transform: translateY(-3px);
}

#report .floating-preview-btn-fixed:hover {
    transform: translateY(-6px) scale(1.05); /* 더 높이 상승하고 확대 */
    background: linear-gradient(135deg, #059669, #047857); /* 더 진한 초록 */
    box-shadow: 
        0 20px 40px rgba(16, 185, 129, 0.4),
        0 10px 20px rgba(16, 185, 129, 0.3),
        0 4px 8px rgba(0, 0, 0, 0.15);
}

#report .floating-preview-btn-fixed:active {
    transform: translateY(-3px) scale(0.95); /* 클릭 시 살짝 눌리는 효과 */
    transition: all 0.15s ease;
}

#report .floating-preview-btn-fixed i {
    font-size: 1.1rem;
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));
}
}

#report .filter-section h3 {
    margin: 0;
    color: var(--text-primary, #374151);
    display: flex;
    align-items: center;
    gap: 10px;
}

#report .btn-reset-filters {
    padding: 8px 16px;
    border: none;
    background-color: var(--accent-orange);
    color: white;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    font-size: 0.85rem;
    display: flex;
    align-items: center;
    gap: 6px;
    transition: all 0.2s ease;
}

#report .btn-reset-filters:hover {
    background-color: #f97316; /* 더 진한 주황색 */
    transform: translateY(-1px);
    box-shadow: 0 4px 10px rgba(251, 146, 60, 0.3);
}

/* 필터 그리드 - 최강 우선순위 */
#report .filter-grid,
body #report .filter-grid,
html body #report .filter-grid {
    display: grid !important;
    /* 6개 컬럼으로 변경하여 모든 필터를 한 줄에 배치 */
    grid-template-columns: repeat(6, 1fr) !important;
    align-items: end !important;
    gap: 8px 8px !important; /* 세로 간격을 더 줄임 */
}

#report .filter-group {
    display: flex;
    flex-direction: column;
    min-width: 0; /* 최소 너비 제거 */
}

#report .filter-group label {
    font-weight: 600;
    color: var(--text-primary, #374151);
    margin-bottom: 6px; /* 마진 줄임 */
    font-size: 0.8rem; /* 라벨 폰트 크기 줄임 */
}

#report .filter-group select,
#report .filter-group input {
    padding: 12px 12px; /* 상하 패딩 늘림 */
    border: 2px solid var(--border-color, #e5e7eb);
    border-radius: 6px; /* 둥글기 줄임 */
    font-size: 0.9rem; /* 폰트 크기 조금 늘림 */
    transition: all 0.3s ease;
    background: var(--content-bg, white);
    color: var(--text-primary);
    height: 46px; /* 높이 더 늘림 */
    min-width: 0; /* 최소 너비 제거 */
    line-height: 1.4; /* 줄 간격 조정으로 글자 잘림 방지 */
}

#report .filter-group select:focus,
#report .filter-group input:focus {
    border-color: #4f46e5;
    outline: none;
    box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
}

/* 리포트 옵션 */
#report .report-options {
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 30px;
}

#report .option-group {
    margin-bottom: 15px; /* 여백 줄임 */
}

#report .option-group:last-child {
    margin-bottom: 0;
}

#report .option-title {
    font-weight: 600;
    margin-bottom: 15px;
    color: var(--text-primary, #374151);
    display: flex;
    align-items: center;
    gap: 8px;
}

#report .checkbox-group {
    display: grid;
    gap: 10px;
}

#report .checkbox-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px;
    border-radius: 8px;
    transition: all 0.2s ease;
    cursor: pointer;
}

#report .checkbox-item:hover {
    background: rgba(79, 70, 229, 0.05);
}

#report .checkbox-item input[type="checkbox"] {
    width: 18px;
    height: 18px;
    accent-color: #4f46e5;
}

#report .checkbox-item label {
    cursor: pointer;
    font-weight: 500;
    margin: 0;
}

#report .checkbox-item small {
    color: var(--text-secondary, #6b7280);
    font-size: 0.85rem;
    display: block;
    margin-top: 4px;
    margin-left: 28px;
}

/* 리포트 형식 선택 */
#report .format-selector {
    display: grid;
    /* 4개 항목을 화면 끝까지 가득 채우기 */
    grid-template-columns: 1fr 1fr 1fr 1fr;
    gap: 10px; /* 간격 줄임 */
    margin-top: 15px;
}

#report .format-option {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 10px 8px; /* 패딩 대폭 줄임 */
    border: 2px solid var(--border-color, #e5e7eb);
    border-radius: 8px; /* 둥글기 줄임 */
    cursor: pointer;
    transition: all 0.3s ease;
    min-height: 60px; /* 최소 높이 설정 */
}

#report .format-option:hover {
    border-color: #4f46e5;
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(79, 70, 229, 0.1);
}

#report .format-option.selected {
    border-color: #4f46e5;
    background: #4f46e5;
    color: white;
}

#report .format-option i {
    font-size: 1.2rem; /* 아이콘 크기 줄임 */
    margin-bottom: 5px; /* 마진 줄임 */
}

#report .format-option span {
    font-size: 0.75rem; /* 폰트 크기 줄임 */
    font-weight: 600;
}

/* 액션 버튼 (사용 안함 - 플로팅 버튼으로 대체) */
#report .action-buttons {
    display: none; /* 더 이상 사용하지 않음 */
}

#report .btn {
    flex: 1;
    padding: 15px 25px;
    border: none;
    border-radius: 12px;
    font-weight: 700;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
}

#report .btn-primary {
    background: linear-gradient(135deg, #4f46e5, #7c3aed);
    color: white;
    box-shadow: 0 4px 20px rgba(79, 70, 229, 0.3);
}

#report .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 25px rgba(79, 70, 229, 0.4);
}

#report .btn-secondary {
    background: var(--content-bg, white);
    color: var(--text-secondary, #6b7280);
    border: 2px solid var(--border-color, #e5e7eb);
}

#report .btn-secondary:hover {
    border-color: #4f46e5;
    color: #4f46e5;
    transform: translateY(-2px);
}

/* 프리뷰 영역 */
#report .preview-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 2px solid var(--border-color, #e5e7eb);
}

#report .preview-title {
    font-size: 1.2rem;
    font-weight: 700;
    color: var(--text-primary, #374151);
}

#report .preview-actions {
    display: flex;
    gap: 10px;
}

#report .preview-btn {
    padding: 8px 12px;
    border: 1px solid #d1d5db;
    background: var(--content-bg, white);
    border-radius: 8px;
    cursor: pointer;
    font-size: 0.85rem;
    transition: all 0.2s ease;
}

#report .preview-btn:hover {
    background: #f3f4f6;
}

#report .preview-content {
    border: 1px solid var(--border-color, #e5e7eb);
    border-radius: 12px;
    padding: 20px;
    min-height: 300px;
    position: relative;
}

#report .preview-placeholder {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 300px;
    color: #9ca3af;
    text-align: center;
}

#report .preview-placeholder i {
    font-size: 3rem;
    margin-bottom: 15px;
    opacity: 0.5;
}

/* 로딩 상태 */
#report .loading-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 40px;
}

#report .loading-spinner {
    width: 40px;
    height: 40px;
    border: 3px solid #e5e7eb;
    border-top: 3px solid #4f46e5;
    border-radius: 50%;
    animation: report-spin 1s linear infinite;
    margin-bottom: 15px;
}

@keyframes report-spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* 진행 표시 */
#report .progress-section {
    margin-bottom: 25px;
}

#report .progress-bar {
    width: 100%;
    height: 8px;
    background: #e5e7eb;
    border-radius: 4px;
    overflow: hidden;
    margin-top: 10px;
}

#report .progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #4f46e5, #7c3aed);
    width: 0%;
    transition: width 0.5s ease;
}

#report .progress-steps {
    display: flex;
    justify-content: space-between;
    margin-top: 15px;
    font-size: 0.85rem;
}

#report .progress-step {
    display: flex;
    align-items: center;
    gap: 8px;
    color: #9ca3af;
}

#report .progress-step.active {
    color: #4f46e5;
    font-weight: 600;
}

#report .progress-step.completed {
    color: #10b981;
}

/* 템플릿 갤러리 - 최강 우선순위 */
#report .template-gallery,
body #report .template-gallery,
html body #report .template-gallery {
    display: grid !important;
    /* 6개 컬럼으로 변경하여 모든 템플릿을 한 줄에 배치 */
    grid-template-columns: repeat(6, 1fr) !important;
    gap: 12px !important; /* 간격 줄임 */
    margin-top: 15px !important;
}

#report .template-card {
    border: 2px solid var(--border-color, #e5e7eb);
    border-radius: 8px; /* 둥글기 복원 */
    padding: 12px; /* 패딩 복원 */
    cursor: pointer;
    transition: all 0.3s ease;
    text-align: left; /* 왼쪽 정렬로 변경 */
    min-height: 60px; /* 최소 높이 조정 */
    display: flex;
    flex-direction: row; /* 가로 배치로 변경 */
    align-items: center; /* 세로 중앙 정렬 */
    gap: 10px; /* 아이콘과 텍스트 간격 */
    font-size: 0.85rem; /* 폰트 크기 복원 */
    min-width: 0; /* 최소 너비 제거 */
}

#report .template-card:hover {
    border-color: #4f46e5;
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(79, 70, 229, 0.1);
}

#report .template-card.selected {
    border-color: #4f46e5;
    background: linear-gradient(135deg, #f0f9ff, #e0e7ff); /* 그라데이션 배경 */
    box-shadow: 0 4px 15px rgba(79, 70, 229, 0.15);
}

#report .template-icon {
    font-size: 1.4rem; /* 아이콘 크기 늘림 */
    margin-bottom: 0; /* 마진 제거 */
    flex-shrink: 0; /* 아이콘 크기 고정 */
}

#report .template-name {
    font-weight: 600;
    margin-bottom: 0; /* 마진 제거 */
    font-size: 0.9rem; /* 폰트 크기 늘림 */
    line-height: 1.2; /* 줄 간격 조정 */
    flex-grow: 1; /* 텍스트 영역 확장 */
}

/* 템플릿별 파스텔 색상 적용 */
#report .template-card[data-template="executive-summary"] .template-icon {
    color: #ff9a9e; /* 파스텔 핑크 */
}

#report .template-card[data-template="detailed-analysis"] .template-icon {
    color: #a8e6cf; /* 파스텔 그린 */
}

#report .template-card[data-template="recruitment-funnel"] .template-icon {
    color: #ffd3a5; /* 파스텔 오렌지 */
}

#report .template-card[data-template="monthly-report"] .template-icon {
    color: #a8c8ec; /* 파스텔 블루 */
}

#report .template-card[data-template="interviewer-performance"] .template-icon {
    color: #d4a4eb; /* 파스텔 퍼플 */
}

#report .template-card[data-template="cost-analysis"] .template-icon {
    color: #ffd93d; /* 파스텔 옐로우 */
}

#report .template-description {
    font-size: 0.7rem; /* 더 작게 */
    color: var(--text-secondary, #6b7280);
    line-height: 1.2; /* 줄 간격 조정 */
}

/* AI 분석 가이드 스타일 */
#report .ai-guide {
    display: none;
}

#report .ai-guide.active {
    display: block;
}

#report .ai-analysis-grid {
    display: grid;
    /* 2개 컬럼으로 고정하여 화면 끝까지 가득 채우기 */
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-top: 20px;
}

#report .analysis-category {
    border-radius: 12px;
    padding: 20px;
    border: 1px solid var(--border-color, #e5e7eb);
}

#report .category-title {
    font-weight: 700;
    margin-bottom: 15px;
    color: var(--text-primary, #374151);
    display: flex;
    align-items: center;
    gap: 10px;
}

#report .analysis-item {
    margin-bottom: 15px;
    padding: 12px;
    border-radius: 8px;
    transition: all 0.2s ease;
}

#report .analysis-item:hover {
    background: #f0f9ff;
}

#report .analysis-item label {
    display: flex;
    align-items: flex-start;
    gap: 10px;
    cursor: pointer;
}

#report .analysis-item input[type="checkbox"] {
    margin-top: 3px;
    accent-color: #4f46e5;
}

#report .analysis-title {
    font-weight: 600;
    margin-bottom: 5px;
}

#report .analysis-description {
    font-size: 0.85rem;
    color: var(--text-secondary, #6b7280);
    line-height: 1.4;
}

/* 반응형 */
@media (max-width: 1200px) {
    #report .filter-grid {
        grid-template-columns: repeat(3, 1fr) !important; /* 중간 화면에서는 3열 */
        gap: 15px !important;
    }
}

@media (max-width: 1024px) {
    #report .filter-grid {
        grid-template-columns: 1fr 1fr !important; /* 작은 화면에서는 2열 */
        gap: 15px !important;
    }

    #report .template-gallery {
        grid-template-columns: repeat(3, 1fr); /* 중간 화면에서는 3열로 2줄 */
        gap: 10px;
    }

    #report .format-selector {
        grid-template-columns: 1fr 1fr; /* 중간 화면에서는 2열로 2줄 */
    }

    #report .ai-analysis-grid {
        grid-template-columns: 1fr; /* 중간 화면에서는 1열 */
    }

    #report .action-buttons {
        flex-direction: column;
    }
}

@media (max-width: 768px) {
    #report {
        padding: 10px;
    }

    #report .report-header {
        padding: 20px;
    }

    #report .report-header h1 {
        font-size: 2rem;
    }

    #report .report-content {
        padding: 20px;
    }

    #report .report-tabs {
        flex-direction: column;
        gap: 5px;
    }

    #report .filter-grid {
        grid-template-columns: 1fr !important; /* 작은 화면에서는 1열 */
        gap: 15px !important;
    }

    #report .template-gallery {
        grid-template-columns: repeat(2, 1fr); /* 작은 화면에서는 2열로 3줄 */
        gap: 8px;
    }

    #report .format-selector {
        grid-template-columns: 1fr 1fr; /* 작은 화면에서는 2열 */
    }

    #report .ai-analysis-grid {
        grid-template-columns: 1fr;
    }
}
/* =========================
   리포트 미리보기 동적 스타일 (2단계 추가)
   ========================= */

#report .preview-placeholder-dynamic {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    color: #9ca3af;
    padding: 20px;
}

#report .preview-placeholder-dynamic i {
    font-size: 2.5rem;
    margin-bottom: 15px;
    opacity: 0.5;
    color: #4f46e5;
}

#report .preview-summary {
    padding: 15px;
    background: linear-gradient(135deg, rgba(79, 70, 229, 0.05), rgba(124, 58, 237, 0.05));
    border-radius: 12px;
    margin-bottom: 20px;
    border: 1px solid rgba(79, 70, 229, 0.1);
}

#report .summary-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

#report .summary-label {
    font-weight: 600;
    color: var(--text-secondary);
}

#report .summary-value.highlight {
    font-size: 1.5rem;
    font-weight: 700;
    color: #4f46e5;
}
/* =========================
   리포트 필터링 섹션 개선 (2.5단계)
   ========================= */

#report .filter-section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

#report .btn-reset-filters {
    padding: 8px 16px;
    border: none;
    background-color: var(--accent-orange);
    color: white;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    font-size: 0.85rem;
    display: flex;
    align-items: center;
    gap: 6px;
    transition: all 0.2s ease;
}

#report .btn-reset-filters:hover {
    background-color: #f97316; /* 더 진한 주황색 */
    transform: translateY(-1px);
    box-shadow: 0 4px 10px rgba(251, 146, 60, 0.3);
}

#report .filter-grid {
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    align-items: end; /* 요소들을 아래쪽으로 정렬 */
}

#report .date-range-picker {
    display: none; /* 기본적으로 숨김 */
}

#report .date-range-picker .date-range-inputs {
    display: flex;
    align-items: center;
    gap: 5px;
}

#report .date-range-picker input[type="date"] {
    width: 100%;
}/* =========================
   리포트 필터링 섹션 개선 (2.5단계)
   ========================= */

#report .filter-section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

#report .btn-reset-filters {
    padding: 8px 16px;
    border: none;
    background-color: var(--accent-orange);
    color: white;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    font-size: 0.85rem;
    display: flex;
    align-items: center;
    gap: 6px;
    transition: all 0.2s ease;
}

#report .btn-reset-filters:hover {
    background-color: #f97316; /* 더 진한 주황색 */
    transform: translateY(-1px);
    box-shadow: 0 4px 10px rgba(251, 146, 60, 0.3);
}

#report .filter-grid {
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    align-items: end; /* 요소들을 아래쪽으로 정렬 */
}

#report .date-range-picker {
    display: none; /* 기본적으로 숨김 */
}

#report .date-range-picker .date-range-inputs {
    display: flex;
    align-items: center;
    gap: 5px;
}

#report .date-range-picker input[type="date"] {
    width: 100%;
}
/* =========================
   리포트 필터 사용자 지정 날짜 선택기 레이아웃 수정
   ========================= */

#report .filter-grid {
    /* grid-template-columns를 유지하여 반응형으로 필터들을 정렬합니다. */
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    align-items: end;
    gap: 15px;
}

#report .date-range-picker {
    display: none; /* 기본적으로 숨김 처리 */
    
    /* ▼▼▼▼▼ 핵심 수정 부분 ▼▼▼▼▼ */
    /* 그리드의 1번 라인부터 마지막 라인까지 모두 차지하도록 설정 */
    grid-column: 1 / -1;
    /* ▲▲▲▲▲ 핵심 수정 부분 ▲▲▲▲▲ */

    margin-top: -5px; /* 기간 선택 필드와의 간격을 미세 조정 */
    padding-bottom: 5px; /* 다른 필드와의 간격을 확보 */
}
/* =========================
   리포트 콘텐츠 스타일 (3단계 추가)
   ========================= */

#report .report-title {
    font-size: 1.8rem;
    font-weight: 700;
    color: #ffffff !important; /* CSS 변수 대신 명시적 흰색 */
    margin-bottom: 25px;
    padding-bottom: 15px;
    border-bottom: 2px solid var(--border-color);
}

#report .report-stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
}

#report .stat-card {
    background: var(--main-bg);
    padding: 20px;
    border-radius: 12px;
    text-align: center;
    border: 1px solid var(--border-color);
}

#report .stat-label {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--text-secondary);
    margin-bottom: 10px;
}

#report .stat-value {
    font-size: 2rem;
    font-weight: 700;
    color: var(--sidebar-accent);
}

#report .report-chart-container {
    width: 100%;
    height: 400px; /* 차트 높이 지정 */
    position: relative;
}

#report .report-table-container {
    width: 100%;
    max-height: 500px; /* 테이블 최대 높이 지정 */
    overflow: auto; /* 내용이 많으면 스크롤바 생성 */
    border: 1px solid var(--border-color);
    border-radius: 8px;
}

#report .report-table {
    width: 100%;
    border-collapse: collapse;
}

#report .report-table th,
#report .report-table td {
    padding: 12px 15px;
    border: 1px solid var(--border-color);
    text-align: left;
    font-size: 0.9rem;
}

#report .report-table th {
    background-color: var(--main-bg);
    font-weight: 600;
    position: sticky;
    top: 0;
}
/* =========================
   리포트 콘텐츠 업그레이드 스타일 (3.5단계 추가)
   ========================= */

#report .report-subtitle {
    font-size: 1.2rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-top: 30px;
    margin-bottom: 15px;
}

/* 채용 퍼널 스타일 */
.report-funnel {
    display: flex;
    flex-direction: column;
    gap: 5px;
    border: 1px solid var(--border-color);
    padding: 20px;
    border-radius: 12px;
    background-color: var(--main-bg);
}

.funnel-step {
    --funnel-color-1: #4f46e5;
    --funnel-color-2: #7c3aed;
    --funnel-color-3: #059669;
    --funnel-color-4: #fb923c;
    position: relative;
    padding: 10px 0;
}

.funnel-info {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
    font-size: 0.95rem;
}

.funnel-stage {
    font-weight: 600;
    color: var(--text-primary);
}

.funnel-count {
    font-weight: 700;
    color: var(--step-color);
}

.funnel-bar-bg {
    width: 100%;
    background-color: var(--border-color);
    border-radius: 4px;
    height: 25px;
}

.funnel-bar {
    height: 100%;
    background: var(--step-color);
    border-radius: 4px;
    transition: width 0.5s ease-out;
}

.funnel-conversion {
    position: absolute;
    left: 20px;
    top: 100%;
    transform: translateY(-5px);
    font-size: 0.8rem;
    color: var(--text-secondary);
    background-color: var(--content-bg);
    padding: 2px 6px;
    border-radius: 4px;
    z-index: 1;
}

/* 리포트 그리드 레이아웃 */
.report-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;
    margin-top: 20px;
}

/* 테이블 컨테이너 내부의 서브타이틀 */
.report-table-container .report-subtitle {
    margin-top: 0;
}

/* 미니 테이블 스타일 */
.report-table.mini {
    font-size: 0.85rem;
}
.report-table.mini th,
.report-table.mini td {
    padding: 10px 12px;
}

.report-table.mini td strong {
    color: var(--success);/* =========================
   리포트 발행 페이지 전용 스타일 (모달 팝업 버전)
   ========================= */

#report .report-container {
    width: 100%;
    max-width: 2000px; 
    margin: 0 auto;
    background: var(--content-bg, white);
    border-radius: var(--border-radius, 8px);
    box-shadow: var(--shadow-md);
    overflow: hidden;
    color: var(--text-primary);
}

/* 헤더 */
#report .report-header {
    background: linear-gradient(135deg, #4f46e5, #7c3aed);
    color: white;
    padding: 30px;
    text-align: center;
}

/* 탭 시스템 */
#report .report-tabs-container {
    padding: 20px 30px 0;
    border-bottom: 1px solid var(--border-color, #e5e7eb);
}
#report .report-tabs {
    display: flex;
    gap: 10px;
    margin-bottom: -1px;
}
#report .report-tab {
    padding: 15px 25px;
    border: 1px solid transparent;
    border-bottom: none;
    background: transparent;
    color: var(--text-secondary, #6b7280);
    font-weight: 600;
    border-radius: 12px 12px 0 0;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
}
#report .report-tab.active {
    background: var(--content-bg, white);
    color: #4f46e5;
    border-color: var(--border-color, #e5e7eb);
}

/* [수정] 메인 콘텐츠 레이아웃 */
#report .report-content-full {
    padding: 30px;
}

#report .report-builder {
    border-radius: 16px;
    padding: 25px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.05);
    background: var(--main-bg);
    max-width: 1200px;
    margin: 0 auto;
}

/* 필터 섹션 */
#report .filter-section-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
#report .filter-section h3 { margin: 0; display: flex; align-items: center; gap: 10px; }
#report .btn-reset-filters { padding: 8px 16px; border: none; background-color: var(--accent-orange); color: white; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 0.85rem; display: flex; align-items: center; gap: 6px; }
#report .filter-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); align-items: end; gap: 20px 15px; }
#report .period-filter-container { grid-column: 1 / -1; display: flex; align-items: flex-end; gap: 15px; flex-wrap: wrap; }
#report .date-range-picker { display: none; flex-grow: 1; }
#report .date-range-picker .date-range-inputs { display: flex; align-items: center; gap: 10px; }
#report .date-range-picker input[type="date"] { width: 100%; }
#report .filter-group { display: flex; flex-direction: column; }
#report .filter-group label { font-weight: 600; margin-bottom: 8px; font-size: 0.9rem; }
#report .filter-group select, #report .filter-group input { padding: 12px 16px; border: 2px solid var(--border-color, #e5e7eb); border-radius: 10px; font-size: 0.95rem; height: 48px; }

/* 액션 버튼 */
#report .action-buttons { margin-top: 30px; }
#report .btn.full-width { width: 100%; }
#report .btn { flex: 1; padding: 15px 25px; border: none; border-radius: 12px; font-weight: 700; font-size: 1rem; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px; }
#report .btn-primary { background: linear-gradient(135deg, #4f46e5, #7c3aed); color: white; }

/* ▼▼▼▼▼ [새로 추가] 리포트 모달 스타일 ▼▼▼▼▼ */
.report-modal {
    display: none;
    position: fixed;
    z-index: 2000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0,0,0,0.6);
    backdrop-filter: blur(5px);
    animation: fadeIn 0.3s ease;
}

/* 모달 애니메이션 */
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes modalSlideIn {
    from { 
        transform: translateY(-50px);
        opacity: 0;
    }
    to { 
        transform: translateY(0);
        opacity: 1;
    }
}
.report-modal-content {
    background-color: #ffffff; /* 인쇄를 위해 흰색 배경 강제 */
    margin: 30px auto;
    padding: 0;
    border-radius: 8px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    width: 90%;
    max-width: 210mm; /* A4 폭에 맞게 조정 */
    min-height: 297mm; /* A4 높이에 맞게 조정 */
    animation: modalSlideIn 0.3s ease;
}
.report-modal .report-modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 25px;
    border-bottom: 1px solid #e5e7eb;
    background-color: #4f46e5 !important; /* 보라색 배경으로 변경 */
    border-radius: 8px 8px 0 0;
}
.report-modal .report-modal-title { 
    font-size: 1.2rem; 
    color: white !important; /* 흰색 텍스트로 변경 */
    font-weight: 600;
}
.report-modal .report-modal-actions { 
    display: flex; 
    gap: 15px; 
}

/* 리포트 모달 버튼 스타일 */
.report-modal .report-modal-actions .btn {
    padding: 8px 16px;
    border: 2px solid white;
    background-color: transparent;
    color: white !important;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
    font-size: 0.9rem;
    display: flex;
    align-items: center;
    gap: 6px;
    transition: all 0.2s ease;
}

.report-modal .report-modal-actions .btn:hover {
    background-color: white !important;
    color: #4f46e5 !important;
    transform: translateY(-1px);
}

.report-modal .report-modal-actions .close-btn {
    background: none !important;
    border: none !important;
    color: white !important;
    font-size: 1.5rem;
    cursor: pointer;
    padding: 5px;
    border-radius: 50%;
    width: 35px;
    height: 35px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
}

.report-modal .report-modal-actions .close-btn:hover {
    background-color: rgba(255, 255, 255, 0.2) !important;
    transform: scale(1.1);
}
.report-modal-body {
    padding: 30px;
    color: #111827; /* 인쇄를 위해 검은색 텍스트 강제 */
}
/* ▲▲▲▲▲ [새로 추가] 리포트 모달 스타일 끝 ▲▲▲▲▲ */

/* 리포트 콘텐츠 스타일 (모달 내부) */
.report-title { 
    font-size: 2rem; 
    font-weight: 800; 
    text-align: center; 
    margin-bottom: 30px; 
    color: #ffffff !important; /* 명시적 흰색 */
}
.report-subtitle { font-size: 1.3rem; font-weight: 700; color: #374151; margin-top: 30px; margin-bottom: 15px; border-bottom: 2px solid #e5e7eb; padding-bottom: 10px; }
.report-funnel { display: flex; flex-direction: column; gap: 15px; }
.funnel-step { position: relative; padding: 10px 0; }
.funnel-info { display: flex; justify-content: space-between; margin-bottom: 8px; }
.funnel-stage { font-weight: 600; }
.funnel-count { font-weight: 700; }
.funnel-bar-bg { width: 100%; background-color: #e5e7eb; border-radius: 4px; height: 30px; }
.funnel-bar { height: 100%; border-radius: 4px; transition: width 0.5s ease-out; }
.funnel-step:nth-child(1) .funnel-bar { background-color: #4f46e5; }
.funnel-step:nth-child(2) .funnel-bar { background-color: #7c3aed; }
.funnel-step:nth-child(3) .funnel-bar { background-color: #059669; }
.funnel-step:nth-child(4) .funnel-bar { background-color: #fb923c; }
.funnel-conversion { position: absolute; left: 10px; top: 100%; transform: translateY(-10px); font-size: 0.85rem; background-color: white; padding: 2px 6px; z-index: 1; }
.report-grid { display: grid; grid-template-columns: 1fr; gap: 30px; margin-top: 20px; }
.report-chart-container { width: 100%; height: 350px; }
.report-table-container { width: 100%; overflow-x: auto; }
.report-table { width: 100%; border-collapse: collapse; }
.report-table th, .report-table td { padding: 12px; border: 1px solid #e5e7eb; text-align: center; }
.report-table th { background-color: #f9fafb; font-weight: 600; }
.report-table.mini td strong { color: #059669; }

/* 인쇄용 스타일 - A4 최적화 */
@media print {
    body * { visibility: hidden; }
    .report-modal-body, .report-modal-body * { visibility: visible; }
    .report-modal-content {
        position: absolute;
        left: 0;
        top: 0;
        margin: 0;
        border: none;
        box-shadow: none;
        width: 100%;
        max-width: 100%;
        border-radius: 0;
    }
    .report-modal-header { display: none; }
    
    /* A4 용지 설정 */
    @page {
        size: A4;
        margin: 1cm; /* 1cm 여백 */
    }
    
    /* 리포트 본문 인쇄 최적화 */
    .report-modal-body {
        padding: 0 !important;
        font-size: 11pt; /* 인쇄용 폰트 크기 */
        line-height: 1.4;
        color: black !important;
    }
    
    /* 제목 인쇄 스타일 */
    .report-title, .report-header h1 {
        font-size: 16pt !important;
        color: black !important;
        background: none !important;
        margin-bottom: 20pt;
    }
    
    /* 섹션 제목 인쇄 스타일 */
    .report-subtitle {
        font-size: 14pt !important;
        color: black !important;
        page-break-after: avoid;
    }
    
    /* 테이블 인쇄 최적화 */
    .report-table {
        font-size: 9pt;
        page-break-inside: avoid;
    }
    
    /* 차트 영역 인쇄 최적화 */
    .report-chart-container {
        page-break-inside: avoid;
        height: auto !important;
        max-height: 200px;
    }
}
    font-size: 1.1em;
}

/* 반응형 */
@media (max-width: 1200px) {
    .report-grid {
        grid-template-columns: 1fr;
    }
}
/* =========================
   리포트 모달 최소 스타일 추가 (기존 HTML용)
   ========================= */

/* 🔥 리포트 모달 - 헤더만 흰색 텍스트, 나머지는 원래 색상 */
#reportModal .report-header,
#reportModal .report-header *,
#reportModal .report-header .report-title,
#reportModal .report-header .report-meta,
#reportModal .report-header .report-meta span,
#reportModal .report-header h1,
.report-modal-content .report-header,
.report-modal-content .report-header *,
.report-modal-content .report-header .report-title,
.report-modal-content .report-header .report-meta,
.report-modal-content .report-header .report-meta span,
.report-modal-content .report-header h1 {
    color: white !important;
    text-shadow: none !important;
    opacity: 1 !important;
    visibility: visible !important;
}

#reportModal .report-header,
.report-modal-content .report-header {
    background: linear-gradient(135deg, #4f46e5, #7c3aed) !important;
    color: white !important;
    text-align: center !important;
    padding: 20px !important;
    border-radius: 12px !important;
    margin-bottom: 20px !important;
}

#reportModal .report-header .report-title,
#reportModal .report-header h1,
.report-modal-content .report-header .report-title,
.report-modal-content .report-header h1 {
    color: white !important;
    font-size: 1.2rem !important;
    font-weight: 700 !important;
    margin-bottom: 10px !important;
    text-align: center !important;
}

#reportModal .report-header .report-meta,
.report-modal-content .report-header .report-meta {
    display: flex !important;
    justify-content: center !important;
    gap: 20px !important;
    font-size: 0.85rem !important;
    color: white !important;
}

#reportModal .report-header .report-meta span,
.report-modal-content .report-header .report-meta span {
    background: rgba(255, 255, 255, 0.2) !important;
    padding: 6px 12px !important;
    border-radius: 20px !important;
    color: white !important;
}

/* 🔥 나머지 콘텐츠는 원래 색상으로 되돌리기 */
#reportModal .report-section,
#reportModal .report-section *,
#reportModal .kpi-grid,
#reportModal .kpi-grid *,
#reportModal .kpi-card,
#reportModal .kpi-card *,
.report-modal-content .report-section,
.report-modal-content .report-section *,
.report-modal-content .kpi-grid,
.report-modal-content .kpi-grid *,
.report-modal-content .kpi-card,
.report-modal-content .kpi-card * {
    color: #1e293b !important;
}

#reportModal .kpi-card h3,
.report-modal-content .kpi-card h3 {
    color: #64748b !important;
}

#reportModal .kpi-value,
.report-modal-content .kpi-value {
    color: #3b82f6 !important;
}

/* 🔥 모달 기본 스타일 강화 */
#reportModal {
    display: none !important;
    position: fixed !important;
    z-index: 999999 !important;  /* 더 높은 z-index */
    left: 0 !important;
    top: 0 !important;
    width: 100% !important;
    height: 100% !important;
    background-color: rgba(0,0,0,0.8) !important;  /* 더 진한 배경 */
    justify-content: center !important;
    align-items: center !important;
    overflow: auto !important;
}

/* 모달이 열려있을 때 */
#reportModal[style*="flex"] {
    display: flex !important;
}

#reportModal .report-modal-content {
    background: white !important;
    border-radius: 12px !important;
    max-width: 90vw !important;
    max-height: 90vh !important;
    overflow-y: auto !important;
    box-shadow: 0 20px 40px rgba(0,0,0,0.5) !important;  /* 더 강한 그림자 */
    margin: 0 !important;
    width: 80vw !important;  /* 고정 너비 */
    min-height: 60vh !important;  /* 최소 높이 */
    position: relative !important;
}

#reportModal .report-modal-header {
    padding: 20px 25px !important;
    border-bottom: 1px solid #e5e7eb !important;
    background: #f9fafb !important;
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
}

#reportModal .report-modal-body {
    padding: 30px !important;
    color: #111827 !important;
    background: white !important;
}

/* 🔥 리포트 콘텐츠 스타일 */
#reportModal .report-title {
    font-size: 2rem;
    font-weight: 800;
    text-align: center;
    margin-bottom: 30px;
    color: #111827;
    padding-bottom: 15px;
    border-bottom: 2px solid #e5e7eb;
}

#reportModal .report-subtitle {
    font-size: 1.3rem;
    font-weight: 700;
    color: #374151;
    margin: 30px 0 15px 0;
    border-bottom: 2px solid #e5e7eb;
    padding-bottom: 10px;
}

#reportModal .report-funnel {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin: 20px 0;
    padding: 20px;
    background: #f8fafc;
    border-radius: 12px;
}

#reportModal .funnel-step {
    position: relative;
    padding: 10px 0;
}

#reportModal .funnel-info {
    display: flex;
    justify-content: space-between;
    margin-bottom: 8px;
    font-size: 1rem;
}

#reportModal .funnel-stage {
    font-weight: 600;
    color: #374151;
}

#reportModal .funnel-count {
    font-weight: 700;
    color: #4f46e5;
    font-size: 1.1rem;
}

#reportModal .funnel-bar-bg {
    width: 100%;
    background: #e5e7eb;
    border-radius: 6px;
    height: 30px;
    overflow: hidden;
}

#reportModal .funnel-bar {
    height: 100%;
    border-radius: 6px;
    transition: width 0.8s ease-out;
}

#reportModal .funnel-conversion {
    position: absolute;
    left: 20px;
    top: 100%;
    transform: translateY(-5px);
    font-size: 0.85rem;
    color: #6b7280;
    background: white;
    padding: 4px 8px;
    border-radius: 6px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

#reportModal .report-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;
    margin-top: 30px;
}

#reportModal .report-chart-container,
#reportModal .report-table-container {
    padding: 20px;
    background: #f9fafb;
    border-radius: 12px;
    border: 1px solid #e5e7eb;
}

#reportModal .report-table {
    width: 100%;
    border-collapse: collapse;
    background: white;
    border-radius: 8px;
    overflow: hidden;
}

#reportModal .report-table th,
#reportModal .report-table td {
    padding: 12px 15px;
    text-align: center;
    border-bottom: 1px solid #e5e7eb;
    font-size: 0.9rem;
}

#reportModal .report-table th {
    background: #4f46e5;
    color: white;
    font-weight: 600;
}

#reportModal .report-table.mini td strong {
    color: #059669;
    font-weight: 700;
}

/* 🔥 반응형 */
@media (max-width: 768px) {
    #reportModal .report-modal-content {
        width: 95% !important;
        max-height: 95vh !important;
    }
    
    #reportModal .report-grid {
        grid-template-columns: 1fr;
        gap: 20px;
    }
    
    #reportModal .report-modal-body {
        padding: 20px !important;
    }
}


/* 🔥 커스텀 알림 스타일 */
.custom-alert-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10000;
    backdrop-filter: blur(4px);
}

.custom-alert-box {
    animation: alertSlideIn 0.3s ease-out;
}

@keyframes alertSlideIn {
    from {
        opacity: 0;
        transform: translateY(-30px) scale(0.9);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* 🔥 퍼널 차트 색상 변수 */
:root {
    --funnel-color-1: #4f46e5;
    --funnel-color-2: #06b6d4;
    --funnel-color-3: #10b981;
    --funnel-color-4: #f59e0b;
}

/* 🔥 리포트 차트 컨테이너 개선 */
#reportModal .report-chart-container {
    position: relative;
    height: 400px;
    padding: 20px;
    background: white;
    border-radius: 12px;
    border: 1px solid #e5e7eb;
}

#reportModal .report-chart-container canvas {
    max-height: 350px !important;
}

/* 🔥 리포트 제목 스타일 개선 */
#reportModal .report-title {
    font-size: 2rem;
    font-weight: 700;
    color: #1e293b;
    text-align: center;
    margin-bottom: 30px;
    padding-bottom: 20px;
    border-bottom: 3px solid #4f46e5;
    background: linear-gradient(135deg, #4f46e5, #7c3aed);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

/* 🔥 리포트 서브타이틀 스타일 */
#reportModal .report-subtitle {
    font-size: 1.25rem;
    font-weight: 600;
    color: #374151;
    margin-bottom: 15px;
    display: flex;
    align-items: center;
    gap: 10px;
}

#reportModal .report-subtitle:before {
    content: '';
    width: 4px;
    height: 20px;
    background: linear-gradient(135deg, #4f46e5, #7c3aed);
    border-radius: 2px;
}

/* 🔥 모바일 최적화 */
@media (max-width: 640px) {
    #reportModal .report-title {
        font-size: 1.5rem;
    }
    
    #reportModal .report-chart-container {
        height: 300px;
        padding: 15px;
    }
    
    #reportModal .report-chart-container canvas {
        max-height: 250px !important;
    }
    
    .custom-alert-box {
        margin: 20px;
        width: calc(100% - 40px) !important;
        max-width: 320px !important;
    }
}

/* 🔥 인쇄 스타일 */
@media print {
    #reportModal .report-modal-header {
        display: none;
    }
    
    #reportModal .report-modal-content {
        width: 100% !important;
        max-width: none !important;
        box-shadow: none !important;
        border: none !important;
    }
    
    #reportModal .report-modal-body {
        padding: 0 !important;
    }
    
    #reportModal .report-grid {
        grid-template-columns: 1fr;
        page-break-inside: avoid;
    }
    
    #reportModal .report-chart-container,
    #reportModal .report-table-container {
        page-break-inside: avoid;
        margin-bottom: 30px;
    }
}


/* ================== 🔥 실시간 미리보기 사이드바 스타일 ================== */

.report-main-grid {
    display: grid;
    grid-template-columns: 1fr 1fr; /* 데이터 필터링 창과 미리보기 창 완전히 동일한 크기 */
    gap: 20px;
    max-width: 2800px;
    margin: 0 auto;
    width: 100%;
    align-items: start; /* 상단 정렬로 동일한 시작점 */
}

.report-builder-section {
    min-width: 0;
    width: 100%; /* 명시적으로 전체 너비 사용 */
}

.live-preview-sidebar {
    background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
    border-radius: 16px;
    padding: 15px; /* 패딩을 25px에서 15px로 줄임 */
    border: 1px solid #e2e8f0;
    position: sticky;
    top: 20px;
    height: fit-content;
    min-height: 600px; /* 데이터 필터링 섹션과 동일한 최소 높이 */
    max-height: calc(100vh - 40px);
    overflow-y: auto;
    transition: all 0.3s ease;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    width: 100%; /* 명시적으로 전체 너비 사용 */
    min-width: 0; /* 그리드 아이템이 너무 좁아지지 않도록 */
    box-sizing: border-box; /* 박스 크기 계산 방식 명시 */
}

.live-preview-sidebar.collapsed {
    transform: translateX(100%);
    opacity: 0;
    pointer-events: none;
}

.preview-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 2px solid #e2e8f0;
}

.preview-header h3 {
    margin: 0;
    font-size: 1.2rem; /* 데이터 필터링 헤더와 비슷한 크기 */
    font-weight: 700; /* 더 굵게 */
    color: #1e293b;
    display: flex;
    align-items: center;
    gap: 8px;
}

.preview-header h3 i {
    color: #3b82f6;
    font-size: 1.1rem;
}

.preview-toggle {
    background: #3b82f6;
    color: white;
    border: none;
    border-radius: 50%;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s ease;
}

.preview-toggle:hover {
    background: #2563eb;
    transform: scale(1.1);
}

.preview-stats {
    margin-bottom: 20px;
}

.stat-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 0;
    border-bottom: 1px solid #e2e8f0;
}

.stat-item:last-child {
    border-bottom: none;
}

.stat-label {
    font-size: 0.9rem;
    color: #64748b;
    font-weight: 500;
}

.stat-value {
    font-size: 0.9rem;
    color: #1e293b;
    font-weight: 600;
    text-align: right;
}

.preview-summary {
    margin-bottom: 20px;
}

.preview-summary h4 {
    margin: 0 0 15px 0;
    font-size: 1rem;
    font-weight: 600;
    color: #1e293b;
}

.summary-grid {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.summary-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px;
    background: white;
    border-radius: 8px;
    border: 1px solid #e2e8f0;
    transition: all 0.2s ease;
}

.summary-item:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.summary-icon {
    width: 36px;
    height: 36px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.1rem;
    background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
    color: white;
}

.summary-text {
    flex: 1;
}

.summary-label {
    font-size: 0.8rem;
    color: #64748b;
    margin-bottom: 2px;
}

.summary-value {
    font-size: 0.95rem;
    font-weight: 600;
    color: #1e293b;
}

.preview-chart-container {
    margin-bottom: 20px;
}

.preview-chart-container h4 {
    margin: 0 0 15px 0;
    font-size: 1rem;
    font-weight: 600;
    color: #1e293b;
}

#previewMiniChart {
    width: 100%;
    max-width: 280px;
    height: auto;
    border-radius: 8px;
    background: white;
    border: 1px solid #e2e8f0;
}

.preview-actions {
    margin-top: 20px;
}

.btn-preview-full {
    width: 100%;
    padding: 12px 16px;
    background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
}

.btn-preview-full:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
}

/* ================== 🔥 확장된 템플릿 카드 스타일 ================== */

.template-card.enhanced {
    position: relative;
    transition: all 0.3s ease;
    overflow: hidden;
}

.template-card.enhanced::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
    transition: left 0.5s ease;
}

.template-card.enhanced:hover::before {
    left: 100%;
}

.template-meta {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 8px;
    font-size: 0.8rem;
    color: #64748b;
}

.template-time {
    display: flex;
    align-items: center;
    gap: 4px;
}

.template-sections {
    font-weight: 500;
}

.template-loading {
    text-align: center;
    padding: 40px 20px;
    color: #64748b;
    font-size: 0.9rem;
}

.template-loading i {
    font-size: 1.5rem;
    margin-bottom: 10px;
    color: #3b82f6;
}

/* ================== 📱 반응형 미리보기 사이드바 ================== */

@media (max-width: 1200px) {
    .report-main-grid {
        grid-template-columns: 1fr 1fr; /* 중간 화면에서도 동일한 크기 유지 */
        gap: 15px;
    }
    
    .live-preview-sidebar {
        padding: 20px;
    }
    
    .report-builder-section {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .report-main-grid {
        grid-template-columns: 1fr; /* 모바일에서만 세로 배치 */
        gap: 20px;
    }
    
    .live-preview-sidebar {
        position: relative;
        top: auto;
        max-height: none;
        order: -1; /* 모바일에서는 위쪽에 표시 */
        width: 100%;
    }
    
    .preview-header {
        display: flex; /* 모바일에서도 헤더 표시 */
    }
    
    .report-builder-section {
        width: 100%;
    }
}

/* ================== 🔥 Excel/PowerPoint 출력 버튼 스타일 ================== */

.format-option.excel:hover {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    color: white;
}

.format-option.powerpoint:hover {
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    color: white;
}

.format-option.excel.selected {
    background: #10b981;
    color: white;
}

.format-option.powerpoint.selected {
    background: #f59e0b;
    color: white;
}


/* ================== 🔥 리포트 히스토리 스타일 ================== */

.history-container {
    max-height: 400px;
    overflow-y: auto;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    background: white;
}

.history-item {
    border-bottom: 1px solid #f1f5f9;
    transition: all 0.2s ease;
}

.history-item:last-child {
    border-bottom: none;
}

.history-item:hover {
    background: #f8fafc;
}

.history-main {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px;
}

.history-info {
    flex: 1;
}

.history-title {
    font-weight: 600;
    color: #1e293b;
    margin-bottom: 4px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.history-title i {
    color: #3b82f6;
    font-size: 0.9rem;
}

.history-meta {
    display: flex;
    gap: 12px;
    font-size: 0.8rem;
    color: #64748b;
}

.history-date {
    font-weight: 500;
}

.history-count {
    background: #e0f2fe;
    color: #0369a1;
    padding: 2px 6px;
    border-radius: 4px;
}

.history-format {
    background: #f0fdf4;
    color: #15803d;
    padding: 2px 6px;
    border-radius: 4px;
    font-weight: 500;
}

.history-actions {
    display: flex;
    gap: 4px;
}

.btn-history-view,
.btn-history-download,
.btn-history-delete {
    width: 32px;
    height: 32px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
    font-size: 0.8rem;
}

.btn-history-view {
    background: #e0f2fe;
    color: #0369a1;
}

.btn-history-view:hover {
    background: #0369a1;
    color: white;
}

.btn-history-download {
    background: #f0fdf4;
    color: #15803d;
}

.btn-history-download:hover {
    background: #15803d;
    color: white;
}

.btn-history-delete {
    background: #fef2f2;
    color: #dc2626;
}

.btn-history-delete:hover {
    background: #dc2626;
    color: white;
}

.btn-clear-history {
    background: #fef2f2;
    color: #dc2626;
    border: 1px solid #fecaca;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-clear-history:hover {
    background: #dc2626;
    color: white;
}

.history-loading {
    text-align: center;
    padding: 30px;
    color: #64748b;
}

.history-loading i {
    font-size: 1.2rem;
    margin-bottom: 8px;
    color: #3b82f6;
}

.history-stats {
    font-size: 0.9rem;
    color: #374151;
}

.history-stats strong {
    color: #1e293b;
}

/* ================== 🔥 미리보기 사이드바 개선 ================== */

.live-preview-sidebar.collapsed {
    transform: translateX(calc(100% - 50px));
    width: 50px;
    overflow: hidden;
}

.live-preview-sidebar.collapsed .preview-content {
    opacity: 0;
    pointer-events: none;
}

.live-preview-sidebar.collapsed .preview-header h3 {
    opacity: 0;
}

.preview-toggle {
    transition: transform 0.3s ease;
}

.preview-toggle:hover {
    transform: scale(1.1) rotate(5deg);
}

/* ================== 📱 반응형 히스토리 ================== */

@media (max-width: 768px) {
    .history-main {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
    }
    
    .history-actions {
        align-self: flex-end;
    }
    
    .history-meta {
        flex-wrap: wrap;
        gap: 8px;
    }
    
    .live-preview-sidebar.collapsed {
        transform: translateY(-100%);
        height: 60px;
    }
}

/* ================== 🔥 템플릿 확장 개선 ================== */

.template-card.enhanced {
    border: 2px solid transparent;
    background: linear-gradient(white, white) padding-box,
                linear-gradient(135deg, transparent, transparent) border-box;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.template-card.enhanced:hover {
    border-color: #3b82f6;
    transform: translateY(-2px) scale(1.02);
    box-shadow: 0 8px 25px rgba(59, 130, 246, 0.15);
}

.template-card.enhanced.selected {
    border-color: #3b82f6;
    background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
    box-shadow: 0 4px 20px rgba(59, 130, 246, 0.2);
}

.template-meta {
    padding-top: 8px;
    border-top: 1px solid #f1f5f9;
}

.template-time {
    color: #10b981;
    font-weight: 500;
}

.template-sections {
    color: #6366f1;
    font-weight: 500;
}


/* ================== 🔥 사이드바 디버깅용 강제 표시 ================== */

.live-preview-sidebar {
    position: fixed !important;
    top: 20px !important;
    right: 20px !important;
    width: 350px !important;
    height: calc(100vh - 40px) !important;
    z-index: 1000 !important;
    background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%) !important;
    border-radius: 16px !important;
    padding: 20px !important;
    border: 2px solid #3b82f6 !important;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15) !important;
    overflow-y: auto !important;
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
}

/* 페이지 우측 여백 확보 */
#report .report-content {
    padding-right: 380px !important;
}

/* 모바일에서는 사이드바 숨김 */
@media (max-width: 768px) {
    .live-preview-sidebar {
        display: none !important;
    }
    
    #report .report-content {
        padding-right: 0 !important;
    }
}
/* 🎨 B) 기능 개선 단계 - 추가 스타일 */

/* 🔥 실시간 미리보기 사이드바 */
.report-main-grid {
    display: grid;
    grid-template-columns: 1fr 350px;
    gap: 20px;
    min-height: 600px;
}

.live-preview-sidebar {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 16px;
    padding: 0;
    color: white;
    box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
    transition: all 0.3s ease;
    position: sticky;
    top: 20px;
    max-height: calc(100vh - 40px);
    overflow: hidden;
}

.live-preview-sidebar.collapsed {
    grid-column: 2;
    width: 60px;
    padding: 0;
}

.live-preview-sidebar.collapsed .preview-content {
    display: none;
}

.preview-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    background: rgba(255, 255, 255, 0.1);
}

.preview-header h3 {
    margin: 0;
    font-size: 1.1rem;
    font-weight: 600;
}

.preview-toggle {
    background: rgba(255, 255, 255, 0.2);
    border: none;
    color: white;
    width: 32px;
    height: 32px;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.preview-toggle:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: scale(1.05);
}

.preview-content {
    padding: 20px;
    overflow-y: auto;
    max-height: calc(100vh - 140px);
}

/* 📊 미리보기 통계 */
.preview-stats {
    margin-bottom: 24px;
}

.stat-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
    padding: 12px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    backdrop-filter: blur(10px);
}

.stat-label {
    font-size: 0.9rem;
    opacity: 0.9;
}

.stat-value {
    font-weight: 600;
    font-size: 0.95rem;
}

.summary-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 12px;
    margin-bottom: 24px;
}

.summary-item {
    text-align: center;
    padding: 16px 12px;
    background: rgba(255, 255, 255, 0.15);
    border-radius: 12px;
    backdrop-filter: blur(10px);
}

.summary-label {
    font-size: 0.85rem;
    opacity: 0.9;
    margin-bottom: 4px;
}

.summary-value {
    font-size: 1.4rem;
    font-weight: 700;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

/* 📈 미니 차트 */
.preview-chart-container {
    margin-bottom: 20px;
}

.chart-title {
    text-align: center;
    margin-bottom: 12px;
    font-size: 0.9rem;
    font-weight: 600;
    opacity: 0.95;
}

.mini-chart-wrapper {
    height: 160px;
    position: relative;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    padding: 16px;
    backdrop-filter: blur(10px);
}

.preview-filters {
    margin-top: 20px;
    padding-top: 20px;
    border-top: 1px solid rgba(255, 255, 255, 0.2);
}

.filter-summary {
    font-size: 0.85rem;
    opacity: 0.9;
    line-height: 1.4;
}

/* 🎨 향상된 템플릿 카드 */
.template-card.enhanced {
    background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
    border: 2px solid transparent;
    border-radius: 16px;
    padding: 20px;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.template-card.enhanced::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    opacity: 0;
    transition: opacity 0.3s ease;
    z-index: 0;
}

.template-card.enhanced:hover::before,
.template-card.enhanced.selected::before {
    opacity: 1;
}

.template-card.enhanced:hover,
.template-card.enhanced.selected {
    transform: translateY(-4px);
    box-shadow: 0 12px 40px rgba(102, 126, 234, 0.3);
    color: white;
}

.template-header {
    display: flex;
    align-items: flex-start;
    gap: 16px;
    margin-bottom: 16px;
    position: relative;
    z-index: 1;
}

.template-icon {
    width: 48px;
    height: 48px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.5rem;
    flex-shrink: 0;
    transition: all 0.3s ease;
}

.template-card.enhanced:hover .template-icon,
.template-card.enhanced.selected .template-icon {
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(10px);
}

.template-info h4 {
    margin: 0 0 8px 0;
    font-size: 1.1rem;
    font-weight: 600;
    transition: color 0.3s ease;
}

.template-info p {
    margin: 0;
    font-size: 0.9rem;
    color: #6b7280;
    line-height: 1.4;
    transition: color 0.3s ease;
}

.template-card.enhanced:hover .template-info p,
.template-card.enhanced.selected .template-info p {
    color: rgba(255, 255, 255, 0.9);
}

/* 📊 템플릿 메타 정보 */
.template-meta {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    align-items: center;
    position: relative;
    z-index: 1;
}

.meta-item {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 0.85rem;
    color: #6b7280;
    transition: color 0.3s ease;
}

.template-card.enhanced:hover .meta-item,
.template-card.enhanced.selected .meta-item {
    color: rgba(255, 255, 255, 0.9);
}

.meta-item i {
    font-size: 0.8rem;
}

.difficulty-badge {
    padding: 4px 8px;
    border-radius: 6px;
    font-size: 0.75rem;
    font-weight: 600;
    color: white;
    margin-left: auto;
}

/* 📊 출력 형식 강화 */
.format-option.excel {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
}

.format-option.powerpoint {
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
}

.format-option.excel:hover,
.format-option.powerpoint:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
}

/* 💾 리포트 히스토리 스타일 */
.history-container {
    max-height: 400px;
    overflow-y: auto;
    margin-top: 16px;
}

.history-item {
    background: white;
    border: 1px solid #e5e7eb;
    border-radius: 12px;
    margin-bottom: 12px;
    padding: 16px;
    transition: all 0.2s ease;
}

.history-item:hover {
    border-color: #3b82f6;
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);
}

.history-main {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 16px;
}

.history-info {
    flex: 1;
}

.history-title {
    font-weight: 600;
    margin-bottom: 6px;
    color: #1f2937;
    display: flex;
    align-items: center;
    gap: 8px;
}

.history-title i {
    color: #6b7280;
}

.history-meta {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    margin-bottom: 6px;
    font-size: 0.85rem;
}

.history-format {
    background: #3b82f6;
    color: white;
    padding: 2px 8px;
    border-radius: 4px;
    font-weight: 500;
    font-size: 0.75rem;
}

.history-data-count {
    color: #059669;
    font-weight: 500;
}

.history-time {
    color: #6b7280;
}

.history-filters {
    font-size: 0.8rem;
    color: #6b7280;
    line-height: 1.3;
}

.history-actions {
    display: flex;
    gap: 8px;
    flex-shrink: 0;
}

.btn-history-view,
.btn-history-download,
.btn-history-delete {
    padding: 6px 8px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.8rem;
    transition: all 0.2s ease;
}

.btn-history-view {
    background: #3b82f6;
    color: white;
}

.btn-history-download {
    background: #10b981;
    color: white;
}

.btn-history-delete {
    background: #ef4444;
    color: white;
}

.btn-history-view:hover {
    background: #2563eb;
    transform: scale(1.05);
}

.btn-history-download:hover {
    background: #059669;
    transform: scale(1.05);
}

.btn-history-delete:hover {
    background: #dc2626;
    transform: scale(1.05);
}

.history-stats {
    display: flex;
    align-items: center;
    gap: 12px;
    font-size: 0.9rem;
    color: #6b7280;
}

.btn-clear-history {
    background: #ef4444;
    color: white;
    border: none;
    padding: 4px 8px;
    border-radius: 6px;
    font-size: 0.8rem;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-clear-history:hover {
    background: #dc2626;
    transform: scale(1.05);
}

/* 📱 반응형 디자인 */
@media (max-width: 1024px) {
    .report-main-grid {
        grid-template-columns: 1fr;
        gap: 16px;
    }
    
    .live-preview-sidebar {
        position: relative;
        top: 0;
        max-height: none;
    }
    
    .template-gallery {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 768px) {
    .template-header {
        flex-direction: column;
        align-items: center;
        text-align: center;
        gap: 12px;
    }
    
    .template-meta {
        justify-content: center;
    }
    
    .history-main {
        flex-direction: column;
        gap: 12px;
    }
    
    .history-actions {
        justify-content: center;
    }
}
/* 🎨 C) 고급 기능 - 커스텀 템플릿 편집기 스타일 */

/* 커스텀 편집기 컨테이너 */
.custom-editor-container {
    max-height: 600px;
    overflow-y: auto;
    padding: 20px;
    background: #f8fafc;
    border-radius: 12px;
}

.editor-section {
    background: white;
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 20px;
    border: 1px solid #e5e7eb;
    transition: all 0.3s ease;
}

.editor-section:hover {
    border-color: #3b82f6;
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.1);
}

.section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 16px;
    padding-bottom: 12px;
    border-bottom: 1px solid #e5e7eb;
}

.section-header h3 {
    margin: 0;
    color: #1f2937;
    font-size: 1.1rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 8px;
}

.section-header h3 i {
    color: #3b82f6;
}

/* 템플릿 정보 폼 */
.template-info-form .form-group {
    margin-bottom: 16px;
}

.template-info-form label {
    display: block;
    margin-bottom: 6px;
    font-weight: 500;
    color: #374151;
}

.template-info-form input[type="text"] {
    width: 100%;
    padding: 10px 12px;
    border: 1px solid #d1d5db;
    border-radius: 8px;
    font-size: 0.95rem;
    transition: border-color 0.2s ease;
}

.template-info-form input[type="text"]:focus {
    outline: none;
    border-color: #3b82f6;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

/* 사용 가능한 섹션들 */
.available-sections h4 {
    color: #374151;
    margin-bottom: 12px;
    font-size: 0.95rem;
    font-weight: 600;
}

.section-pool {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 12px;
    margin-bottom: 24px;
}

.section-item {
    background: #f9fafb;
    border: 2px dashed #d1d5db;
    border-radius: 8px;
    padding: 12px;
    cursor: grab;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 12px;
}

.section-item:hover {
    background: #f3f4f6;
    border-color: #3b82f6;
    transform: translateY(-2px);
}

.section-item.dragging {
    opacity: 0.5;
    transform: scale(0.95);
    cursor: grabbing;
}

.section-icon {
    width: 40px;
    height: 40px;
    background: linear-gradient(135deg, #3b82f6, #1d4ed8);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.2rem;
    flex-shrink: 0;
}

.section-info {
    flex: 1;
}

.section-name {
    font-weight: 600;
    color: #1f2937;
    margin-bottom: 4px;
}

.section-description {
    font-size: 0.85rem;
    color: #6b7280;
    line-height: 1.3;
}

.section-controls {
    flex-shrink: 0;
}

.btn-add-section {
    background: #10b981;
    color: white;
    border: none;
    width: 32px;
    height: 32px;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-add-section:hover {
    background: #059669;
    transform: scale(1.1);
}

/* 레이아웃 편집기 */
.layout-editor h4 {
    color: #374151;
    margin-bottom: 12px;
    font-size: 0.95rem;
    font-weight: 600;
}

.layout-canvas {
    min-height: 200px;
    border: 2px dashed #d1d5db;
    border-radius: 12px;
    padding: 16px;
    background: #fafbfc;
    transition: all 0.3s ease;
}

.layout-canvas.drag-over {
    border-color: #3b82f6;
    background: #f0f9ff;
}

.empty-canvas {
    text-align: center;
    padding: 40px 20px;
    color: #6b7280;
}

.empty-canvas i {
    font-size: 3rem;
    margin-bottom: 16px;
    opacity: 0.5;
}

.layout-grid {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.layout-section {
    background: white;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    padding: 12px;
    transition: all 0.2s ease;
}

.layout-section:hover {
    border-color: #3b82f6;
    box-shadow: 0 2px 8px rgba(59, 130, 246, 0.1);
}

.layout-section .section-header {
    margin-bottom: 8px;
    padding-bottom: 8px;
    border-bottom: 1px solid #f3f4f6;
}

.section-title {
    font-weight: 600;
    color: #1f2937;
}

.section-actions {
    display: flex;
    gap: 4px;
}

.btn-move-up,
.btn-move-down,
.btn-remove-section {
    background: #f3f4f6;
    border: none;
    width: 24px;
    height: 24px;
    border-radius: 4px;
    cursor: pointer;
    color: #6b7280;
    font-size: 0.8rem;
    transition: all 0.2s ease;
}

.btn-move-up:hover,
.btn-move-down:hover {
    background: #3b82f6;
    color: white;
}

.btn-remove-section:hover {
    background: #ef4444;
    color: white;
}

.section-preview {
    padding: 8px;
    background: #f9fafb;
    border-radius: 6px;
    text-align: center;
}

.section-preview-content {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    color: #6b7280;
    font-size: 0.9rem;
}

/* 차트 타입 선택기 */
.chart-type-selector {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.chart-type-group h4 {
    color: #374151;
    margin-bottom: 12px;
    font-size: 0.95rem;
    font-weight: 600;
}

.chart-type-options {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
    gap: 12px;
}

.chart-type-option {
    background: #f9fafb;
    border: 2px solid #e5e7eb;
    border-radius: 8px;
    padding: 16px 12px;
    text-align: center;
    cursor: pointer;
    transition: all 0.2s ease;
}

.chart-type-option:hover {
    border-color: #3b82f6;
    background: #f0f9ff;
}

.chart-type-option.selected {
    border-color: #3b82f6;
    background: #3b82f6;
    color: white;
}

.chart-icon {
    font-size: 1.5rem;
    margin-bottom: 8px;
}

.chart-type-option span {
    font-size: 0.85rem;
    font-weight: 500;
}

/* 색상 테마 편집기 */
.color-theme-editor {
    display: flex;
    flex-direction: column;
    gap: 24px;
}

.theme-presets h4,
.custom-colors h4 {
    color: #374151;
    margin-bottom: 12px;
    font-size: 0.95rem;
    font-weight: 600;
}

.preset-themes {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    gap: 12px;
}

.theme-preset {
    background: #f9fafb;
    border: 2px solid #e5e7eb;
    border-radius: 8px;
    padding: 12px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.theme-preset:hover {
    border-color: #3b82f6;
    background: #f0f9ff;
}

.theme-preset.selected {
    border-color: #3b82f6;
    background: #3b82f6;
    color: white;
}

.theme-name {
    font-weight: 600;
    margin-bottom: 8px;
    text-align: center;
}

.theme-colors {
    display: flex;
    gap: 4px;
    justify-content: center;
}

.theme-color {
    width: 16px;
    height: 16px;
    border-radius: 50%;
    border: 1px solid rgba(255, 255, 255, 0.3);
}

.color-picker-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
    gap: 16px;
    margin-bottom: 16px;
}

.color-picker-item {
    text-align: center;
}

.color-picker-item label {
    display: block;
    margin-bottom: 6px;
    font-size: 0.85rem;
    color: #6b7280;
}

.color-input {
    width: 60px;
    height: 40px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    margin-bottom: 6px;
}

.color-preview {
    width: 60px;
    height: 20px;
    border-radius: 4px;
    border: 1px solid #e5e7eb;
    margin: 0 auto;
}

.btn-add-color {
    background: #10b981;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.9rem;
    transition: all 0.2s ease;
}

.btn-add-color:hover {
    background: #059669;
    transform: scale(1.05);
}

/* 템플릿 관리 */
.template-management {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.template-actions {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
}

.saved-templates-list {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.saved-template-item {
    background: #f9fafb;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    padding: 16px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: all 0.2s ease;
}

.saved-template-item:hover {
    border-color: #3b82f6;
    background: #f0f9ff;
}

.template-name {
    font-weight: 600;
    color: #1f2937;
    margin-bottom: 4px;
}

.template-meta {
    font-size: 0.85rem;
    color: #6b7280;
}

.template-actions {
    display: flex;
    gap: 8px;
}

.btn-load-template,
.btn-duplicate-template,
.btn-delete-template {
    background: #f3f4f6;
    border: none;
    width: 32px;
    height: 32px;
    border-radius: 6px;
    cursor: pointer;
    color: #6b7280;
    transition: all 0.2s ease;
}

.btn-load-template:hover {
    background: #3b82f6;
    color: white;
}

.btn-duplicate-template:hover {
    background: #10b981;
    color: white;
}

.btn-delete-template:hover {
    background: #ef4444;
    color: white;
}

.no-saved-templates {
    text-align: center;
    padding: 40px 20px;
    color: #6b7280;
}

.no-saved-templates i {
    font-size: 2rem;
    margin-bottom: 12px;
    opacity: 0.5;
}

/* 미리보기 모달 */
.custom-preview-modal {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1000;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
}

.preview-modal-content {
    background: white;
    border-radius: 12px;
    max-width: 800px;
    max-height: 90vh;
    width: 100%;
    overflow: hidden;
}

.preview-modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px;
    border-bottom: 1px solid #e5e7eb;
    background: #f8fafc;
}

.preview-modal-header h3 {
    margin: 0;
    color: #1f2937;
}

.btn-close-preview {
    background: #ef4444;
    color: white;
    border: none;
    width: 32px;
    height: 32px;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-close-preview:hover {
    background: #dc2626;
    transform: scale(1.1);
}

.preview-modal-body {
    padding: 20px;
    max-height: calc(90vh - 100px);
    overflow-y: auto;
}

.custom-template-preview h4 {
    margin-bottom: 20px;
    color: #1f2937;
}

.preview-sections {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.preview-section {
    background: #f9fafb;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    padding: 16px;
}

.preview-section h5 {
    margin: 0 0 12px 0;
    color: #374151;
}

.section-placeholder {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    padding: 20px;
    background: white;
    border-radius: 6px;
    color: #6b7280;
}

.section-placeholder i {
    font-size: 1.5rem;
}

/* 반응형 디자인 */
@media (max-width: 768px) {
    .custom-editor-container {
        padding: 12px;
    }
    
    .section-pool {
        grid-template-columns: 1fr;
    }
    
    .chart-type-options {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .preset-themes {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .color-picker-grid {
        grid-template-columns: repeat(3, 1fr);
    }
    
    .template-actions {
        flex-direction: column;
    }
}
/* 📂 템플릿 불러오기 다이얼로그 */
.template-load-dialog {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1001;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
}

.dialog-content {
    background: white;
    border-radius: 12px;
    max-width: 600px;
    max-height: 80vh;
    width: 100%;
    overflow: hidden;
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
}

.dialog-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px;
    border-bottom: 1px solid #e5e7eb;
    background: #f8fafc;
}

.dialog-header h3 {
    margin: 0;
    color: #1f2937;
    font-size: 1.2rem;
}

.btn-close-dialog {
    background: #ef4444;
    color: white;
    border: none;
    width: 32px;
    height: 32px;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-close-dialog:hover {
    background: #dc2626;
    transform: scale(1.1);
}

.dialog-body {
    padding: 20px;
    max-height: calc(80vh - 100px);
    overflow-y: auto;
}

.template-list {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.template-option {
    background: #f9fafb;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    padding: 16px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: all 0.2s ease;
    cursor: pointer;
}

.template-option:hover {
    border-color: #3b82f6;
    background: #f0f9ff;
}

.template-option .template-name {
    font-weight: 600;
    color: #1f2937;
    margin-bottom: 4px;
}

.template-option .template-meta {
    font-size: 0.85rem;
    color: #6b7280;
    margin-bottom: 4px;
}

.template-date {
    font-size: 0.8rem;
    color: #9ca3af;
}

.btn-select-template {
    background: #3b82f6;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 500;
    transition: all 0.2s ease;
}

.btn-select-template:hover {
    background: #2563eb;
    transform: scale(1.05);
}
/* 🤖 AI 분석 시스템 스타일 */

/* AI 분석 컨테이너 */
.ai-analysis-container {
    max-height: 600px;
    overflow-y: auto;
    padding: 20px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 16px;
    color: white;
}

.ai-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 24px;
    padding-bottom: 16px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.2);
}

.ai-title {
    display: flex;
    align-items: center;
    gap: 12px;
}

.ai-title h3 {
    margin: 0;
    font-size: 1.3rem;
    font-weight: 600;
}

.ai-title i {
    font-size: 1.5rem;
    color: #fbbf24;
}

.ai-controls {
    display: flex;
    gap: 12px;
}

/* 분석 선택 패널 */
.analysis-selection {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 24px;
    backdrop-filter: blur(10px);
}

.analysis-selection h4 {
    margin: 0 0 16px 0;
    color: white;
    font-size: 1.1rem;
    display: flex;
    align-items: center;
    gap: 8px;
}

.analysis-types {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 16px;
}

.analysis-type-card {
    background: rgba(255, 255, 255, 0.95);
    color: #1f2937;
    border-radius: 12px;
    padding: 20px;
    transition: all 0.3s ease;
    cursor: pointer;
    position: relative;
}

.analysis-type-card:hover {
    background: white;
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
}

.analysis-type-card.disabled {
    opacity: 0.6;
    transform: none;
}

.card-icon {
    width: 48px;
    height: 48px;
    background: linear-gradient(135deg, #667eea, #764ba2);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.5rem;
    margin-bottom: 16px;
}

.card-content h5 {
    margin: 0 0 8px 0;
    font-size: 1.1rem;
    font-weight: 600;
    color: #1f2937;
}

.card-content p {
    margin: 0 0 12px 0;
    color: #6b7280;
    line-height: 1.4;
}

.card-features {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.card-features span {
    font-size: 0.85rem;
    color: #9ca3af;
}

.card-toggle {
    position: absolute;
    top: 16px;
    right: 16px;
}

.card-toggle input[type="checkbox"] {
    display: none;
}

.card-toggle label {
    display: block;
    width: 44px;
    height: 24px;
    background: #e5e7eb;
    border-radius: 12px;
    position: relative;
    cursor: pointer;
    transition: background 0.3s ease;
}

.card-toggle label::after {
    content: '';
    position: absolute;
    top: 2px;
    left: 2px;
    width: 20px;
    height: 20px;
    background: white;
    border-radius: 50%;
    transition: transform 0.3s ease;
}

.card-toggle input[type="checkbox"]:checked + label {
    background: #3b82f6;
}

.card-toggle input[type="checkbox"]:checked + label::after {
    transform: translateX(20px);
}

/* 분석 결과 영역 */
.analysis-results {
    background: rgba(255, 255, 255, 0.95);
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 24px;
    color: #1f2937;
}

.analysis-placeholder {
    text-align: center;
    padding: 40px 20px;
}

.placeholder-icon i {
    font-size: 4rem;
    color: #9ca3af;
    margin-bottom: 16px;
}

.analysis-placeholder h4 {
    margin: 0 0 8px 0;
    color: #1f2937;
}

.analysis-placeholder p {
    color: #6b7280;
    margin-bottom: 24px;
}

.placeholder-features {
    display: flex;
    justify-content: center;
    gap: 24px;
    flex-wrap: wrap;
}

.feature-item {
    display: flex;
    align-items: center;
    gap: 8px;
    color: #10b981;
    font-size: 0.9rem;
}

/* 분석 결과 콘텐츠 */
.analysis-results-content {
    color: #1f2937;
}

.results-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 24px;
    padding-bottom: 12px;
    border-bottom: 1px solid #e5e7eb;
}

.results-header h4 {
    margin: 0;
    color: #1f2937;
    display: flex;
    align-items: center;
    gap: 8px;
}

.results-meta {
    display: flex;
    gap: 16px;
    font-size: 0.85rem;
    color: #6b7280;
}

.results-section {
    margin-bottom: 24px;
}

.results-section h5 {
    margin: 0 0 16px 0;
    color: #1f2937;
    font-size: 1.1rem;
    display: flex;
    align-items: center;
    gap: 8px;
}

.no-results {
    text-align: center;
    padding: 24px;
    color: #6b7280;
    background: #f9fafb;
    border-radius: 8px;
    font-style: italic;
}

.no-results.success {
    color: #059669;
    background: #ecfdf5;
}

/* 인사이트 그리드 */
.insights-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 16px;
}

.insight-card {
    background: #f8fafc;
    border-radius: 8px;
    padding: 16px;
    border-left: 4px solid #e5e7eb;
    transition: all 0.2s ease;
}

.insight-card:hover {
    background: #f1f5f9;
    transform: translateY(-2px);
}

.insight-card.priority-high {
    border-left-color: #ef4444;
}

.insight-card.priority-medium {
    border-left-color: #f59e0b;
}

.insight-card.priority-low {
    border-left-color: #10b981;
}

.insight-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
}

.insight-priority {
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.75rem;
    font-weight: 500;
}

.insight-priority.priority-high {
    background: #fee2e2;
    color: #dc2626;
}

.insight-priority.priority-medium {
    background: #fef3c7;
    color: #d97706;
}

.insight-priority.priority-low {
    background: #dcfce7;
    color: #16a34a;
}

.insight-card h6 {
    margin: 0 0 8px 0;
    color: #1f2937;
    font-weight: 600;
}

.insight-card p {
    margin: 0 0 12px 0;
    color: #6b7280;
    line-height: 1.4;
}

.insight-action {
    display: flex;
    align-items: flex-start;
    gap: 8px;
    background: #f0f9ff;
    padding: 12px;
    border-radius: 6px;
    border-left: 3px solid #3b82f6;
}

.insight-action i {
    color: #3b82f6;
    margin-top: 2px;
}

.insight-action span {
    color: #1e40af;
    font-size: 0.9rem;
    line-height: 1.4;
}

/* 추천사항 목록 */
.recommendations-list {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.recommendation-card {
    background: #f8fafc;
    border-radius: 8px;
    padding: 20px;
    border: 1px solid #e5e7eb;
}

.rec-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
}

.rec-category {
    background: #3b82f6;
    color: white;
    padding: 4px 12px;
    border-radius: 16px;
    font-size: 0.8rem;
    font-weight: 500;
}

.rec-metrics {
    display: flex;
    gap: 12px;
}

.metric {
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.75rem;
    font-weight: 500;
}

.metric.impact-high, .metric.effort-high {
    background: #fee2e2;
    color: #dc2626;
}

.metric.impact-medium, .metric.effort-medium {
    background: #fef3c7;
    color: #d97706;
}

.metric.impact-low, .metric.effort-low {
    background: #dcfce7;
    color: #16a34a;
}

.recommendation-card h6 {
    margin: 0 0 8px 0;
    color: #1f2937;
    font-weight: 600;
}

.recommendation-card p {
    margin: 0 0 16px 0;
    color: #6b7280;
    line-height: 1.4;
}

.rec-actions h6 {
    margin: 0 0 8px 0;
    font-size: 0.9rem;
    color: #374151;
}

.rec-actions ul {
    margin: 0;
    padding-left: 20px;
}

.rec-actions li {
    color: #6b7280;
    line-height: 1.4;
    margin-bottom: 4px;
}

/* 예측 그리드 */
.predictions-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 16px;
}

.prediction-card {
    background: #f8fafc;
    border-radius: 8px;
    padding: 20px;
    text-align: center;
    border: 1px solid #e5e7eb;
}

.pred-icon {
    width: 48px;
    height: 48px;
    background: linear-gradient(135deg, #667eea, #764ba2);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.5rem;
    margin: 0 auto 12px auto;
}

.pred-content h6 {
    margin: 0 0 8px 0;
    color: #1f2937;
    font-weight: 600;
}

.pred-value {
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 8px;
    color: #1f2937;
}

.pred-confidence, .pred-trend {
    font-size: 0.8rem;
    padding: 2px 8px;
    border-radius: 4px;
    margin: 4px;
    display: inline-block;
}

.confidence-high, .trend-increasing, .trend-improving {
    background: #dcfce7;
    color: #16a34a;
}

.confidence-medium, .trend-stable {
    background: #fef3c7;
    color: #d97706;
}

.confidence-low, .trend-decreasing, .trend-declining {
    background: #fee2e2;
    color: #dc2626;
}

.pred-desc {
    font-size: 0.85rem;
    color: #6b7280;
    margin-top: 8px;
    line-height: 1.4;
}

/* 이상 패턴 목록 */
.anomalies-list {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.anomaly-card {
    background: #f8fafc;
    border-radius: 8px;
    padding: 16px;
    border-left: 4px solid #e5e7eb;
}

.anomaly-card.severity-high {
    border-left-color: #ef4444;
    background: #fef2f2;
}

.anomaly-card.severity-medium {
    border-left-color: #f59e0b;
    background: #fffbeb;
}

.anomaly-card.severity-low {
    border-left-color: #6b7280;
}

.anomaly-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
}

.anomaly-severity {
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.75rem;
    font-weight: 500;
}

.anomaly-severity.severity-high {
    background: #fecaca;
    color: #dc2626;
}

.anomaly-severity.severity-medium {
    background: #fed7aa;
    color: #ea580c;
}

.anomaly-severity.severity-low {
    background: #e5e7eb;
    color: #6b7280;
}

.anomaly-card h6 {
    margin: 0 0 8px 0;
    color: #1f2937;
    font-weight: 600;
}

.anomaly-card p {
    margin: 0 0 12px 0;
    color: #6b7280;
    line-height: 1.4;
}

.anomaly-recommendation {
    display: flex;
    align-items: flex-start;
    gap: 8px;
    background: rgba(59, 130, 246, 0.1);
    padding: 12px;
    border-radius: 6px;
}

.anomaly-recommendation i {
    color: #3b82f6;
    margin-top: 2px;
}

.anomaly-recommendation span {
    color: #1e40af;
    font-size: 0.9rem;
    line-height: 1.4;
}

/* 분석 진행 상황 */
.analysis-progress {
    text-align: center;
    padding: 40px 20px;
    color: #1f2937;
}

.progress-header h4 {
    margin: 0 0 24px 0;
    color: #1f2937;
}

.progress-steps {
    display: flex;
    justify-content: center;
    gap: 24px;
    margin-bottom: 24px;
    flex-wrap: wrap;
}

.progress-step {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    opacity: 0.5;
    transition: opacity 0.3s ease;
}

.progress-step.active {
    opacity: 1;
}

.progress-step i {
    font-size: 1.5rem;
    color: #3b82f6;
}

.progress-step span {
    font-size: 0.85rem;
    color: #6b7280;
}

.progress-bar {
    width: 100%;
    height: 6px;
    background: #e5e7eb;
    border-radius: 3px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #3b82f6, #1d4ed8);
    border-radius: 3px;
}

@keyframes progress-animation {
    0% { width: 0%; }
    100% { width: 100%; }
}

/* 분석 오류 */
.analysis-error {
    text-align: center;
    padding: 40px 20px;
    color: #1f2937;
}

.error-icon i {
    font-size: 3rem;
    color: #ef4444;
    margin-bottom: 16px;
}

.analysis-error h4 {
    margin: 0 0 8px 0;
    color: #1f2937;
}

.analysis-error p {
    color: #6b7280;
    margin-bottom: 24px;
}

/* 분석 히스토리 */
.analysis-history {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    padding: 20px;
    backdrop-filter: blur(10px);
}

.analysis-history h4 {
    margin: 0 0 16px 0;
    color: white;
    display: flex;
    align-items: center;
    gap: 8px;
}

.no-history {
    text-align: center;
    padding: 24px;
    color: rgba(255, 255, 255, 0.7);
}

.no-history i {
    font-size: 2rem;
    margin-bottom: 12px;
    opacity: 0.5;
}

.history-items {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.history-item {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    padding: 16px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: all 0.2s ease;
}

.history-item:hover {
    background: rgba(255, 255, 255, 0.2);
}

.history-date {
    font-weight: 600;
    margin-bottom: 4px;
}

.history-stats {
    font-size: 0.85rem;
    opacity: 0.8;
}

.history-actions {
    display: flex;
    gap: 8px;
}

.btn-view-history,
.btn-delete-history {
    background: rgba(255, 255, 255, 0.2);
    color: white;
    border: none;
    width: 32px;
    height: 32px;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-view-history:hover {
    background: #3b82f6;
}

.btn-delete-history:hover {
    background: #ef4444;
}

/* 반응형 디자인 */
@media (max-width: 768px) {
    .analysis-types {
        grid-template-columns: 1fr;
    }
    
    .insights-grid {
        grid-template-columns: 1fr;
    }
    
    .predictions-grid {
        grid-template-columns: 1fr;
    }
    
    .progress-steps {
        flex-direction: column;
        gap: 16px;
    }
    
    .ai-header {
        flex-direction: column;
        gap: 16px;
        text-align: center;
    }
}
/* 📊 차트 인터랙션 강화 스타일 */

/* 차트 리플 애니메이션 */
@keyframes ripple-animation {
    0% {
        width: 4px;
        height: 4px;
        opacity: 1;
    }
    100% {
        width: 60px;
        height: 60px;
        opacity: 0;
    }
}

/* 드릴다운 모달 */
.drilldown-modal {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1002;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
}

.drilldown-content {
    background: white;
    border-radius: 12px;
    max-width: 700px;
    max-height: 80vh;
    width: 100%;
    overflow: hidden;
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
}

.drilldown-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px;
    border-bottom: 1px solid #e5e7eb;
    background: #f8fafc;
}

.drilldown-header h4 {
    margin: 0;
    color: #1f2937;
}

.btn-close-drilldown {
    background: #ef4444;
    color: white;
    border: none;
    width: 32px;
    height: 32px;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-close-drilldown:hover {
    background: #dc2626;
    transform: scale(1.1);
}

.drilldown-body {
    padding: 20px;
    max-height: calc(80vh - 160px);
    overflow-y: auto;
}

.drilldown-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 16px;
    margin-bottom: 24px;
    padding: 16px;
    background: #f8fafc;
    border-radius: 8px;
}

.drilldown-stats .stat-item {
    text-align: center;
}

.drilldown-stats .stat-label {
    font-size: 0.85rem;
    color: #6b7280;
    margin-bottom: 4px;
}

.drilldown-stats .stat-value {
    font-size: 1.5rem;
    font-weight: 700;
    color: #1f2937;
}

.drilldown-breakdown,
.drilldown-trends {
    margin-bottom: 24px;
}

.drilldown-breakdown h5,
.drilldown-trends h5 {
    margin: 0 0 12px 0;
    color: #1f2937;
    font-size: 1rem;
    font-weight: 600;
}

.drilldown-actions {
    padding: 16px 20px;
    border-top: 1px solid #e5e7eb;
    background: #f8fafc;
    display: flex;
    gap: 12px;
    justify-content: flex-end;
}

/* 컨텍스트 메뉴 */
.chart-context-menu {
    background: white;
    border-radius: 8px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    border: 1px solid #e5e7eb;
    padding: 8px 0;
    min-width: 180px;
    z-index: 1001;
}

.context-menu-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 10px 16px;
    cursor: pointer;
    transition: all 0.2s ease;
    color: #374151;
}

.context-menu-item:hover {
    background: #f3f4f6;
    color: #1f2937;
}

.context-menu-item i {
    width: 16px;
    color: #6b7280;
}

.context-menu-separator {
    height: 1px;
    background: #e5e7eb;
    margin: 4px 0;
}

/* 전체화면 모달 */
.chart-fullscreen-modal {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.9);
    z-index: 1003;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
}

.fullscreen-content {
    background: white;
    border-radius: 12px;
    width: 95vw;
    height: 90vh;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

.fullscreen-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 20px;
    border-bottom: 1px solid #e5e7eb;
    background: #f8fafc;
}

.fullscreen-header h4 {
    margin: 0;
    color: #1f2937;
}

.btn-close-fullscreen {
    background: #ef4444;
    color: white;
    border: none;
    width: 32px;
    height: 32px;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-close-fullscreen:hover {
    background: #dc2626;
    transform: scale(1.1);
}

.fullscreen-chart-container {
    flex: 1;
    padding: 20px;
    position: relative;
}

.fullscreen-chart-container canvas {
    width: 100% !important;
    height: 100% !important;
}

/* 상세 툴팁 */
.chart-detail-tooltip {
    position: absolute;
    background: #1f2937;
    color: white;
    padding: 12px 16px;
    border-radius: 8px;
    font-size: 0.9rem;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    pointer-events: none;
    z-index: 1000;
    max-width: 250px;
}

.chart-detail-tooltip::after {
    content: '';
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    border: 6px solid transparent;
    border-top-color: #1f2937;
}

.tooltip-title {
    font-weight: 600;
    margin-bottom: 4px;
}

.tooltip-value {
    font-size: 1.1rem;
    color: #fbbf24;
}

/* 주석 시스템 */
.chart-annotation {
    position: absolute;
    background: #fbbf24;
    color: #1f2937;
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: 600;
    pointer-events: none;
    z-index: 100;
    box-shadow: 0 2px 8px rgba(251, 191, 36, 0.3);
}

.chart-annotation::after {
    content: '';
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    border: 4px solid transparent;
    border-top-color: #fbbf24;
}

/* 애니메이션 효과 */
.chart-hover-effect {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.chart-click-effect {
    animation: chart-pulse 0.3s ease-out;
}

@keyframes chart-pulse {
    0% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.05);
    }
    100% {
        transform: scale(1);
    }
}

/* 차트 컨테이너 향상 */
.enhanced-chart-container {
    position: relative;
    background: white;
    border-radius: 12px;
    padding: 16px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
}

.enhanced-chart-container:hover {
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    transform: translateY(-2px);
}

.chart-controls {
    position: absolute;
    top: 16px;
    right: 16px;
    display: flex;
    gap: 8px;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.enhanced-chart-container:hover .chart-controls {
    opacity: 1;
}

.chart-control-btn {
    background: rgba(255, 255, 255, 0.9);
    border: 1px solid #e5e7eb;
    width: 32px;
    height: 32px;
    border-radius: 6px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #6b7280;
    transition: all 0.2s ease;
}

.chart-control-btn:hover {
    background: white;
    color: #3b82f6;
    border-color: #3b82f6;
    transform: scale(1.1);
}

/* 데이터 레이블 스타일 */
.chart-data-label {
    font-weight: 600;
    font-size: 11px;
    text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.8);
}

/* 차트 로딩 상태 */
.chart-loading {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 200px;
    color: #6b7280;
}

.chart-loading i {
    font-size: 2rem;
    margin-right: 12px;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* 반응형 디자인 */
@media (max-width: 768px) {
    .drilldown-content {
        margin: 10px;
        max-width: none;
        width: calc(100% - 20px);
    }
    
    .drilldown-stats {
        grid-template-columns: 1fr 1fr;
    }
    
    .drilldown-actions {
        flex-direction: column;
    }
    
    .fullscreen-content {
        width: 98vw;
        height: 95vh;
    }
    
    .chart-context-menu {
        min-width: 160px;
    }
    
    .context-menu-item {
        padding: 12px 16px;
    }
}
/* 🔗 외부 연동 시스템 스타일 */

/* 연동 컨테이너 */
.integrations-container {
    max-height: 600px;
    overflow-y: auto;
    padding: 20px;
    background: #f8fafc;
    border-radius: 12px;
}

.integrations-header {
    text-align: center;
    margin-bottom: 30px;
    padding-bottom: 20px;
    border-bottom: 2px solid #e5e7eb;
}

.integrations-header h3 {
    margin: 0 0 8px 0;
    color: #1f2937;
    font-size: 1.3rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
}

.integrations-header p {
    margin: 0;
    color: #6b7280;
    font-size: 1rem;
}

/* 연동 카드 */
.integration-card {
    background: white;
    border: 1px solid #e5e7eb;
    border-radius: 12px;
    margin-bottom: 20px;
    overflow: hidden;
    transition: all 0.3s ease;
}

.integration-card:hover {
    border-color: #3b82f6;
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.1);
}

.integration-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px;
    background: #fafbfc;
    border-bottom: 1px solid #f3f4f6;
}

.integration-info {
    display: flex;
    align-items: center;
    gap: 16px;
    flex: 1;
}

.integration-icon {
    width: 48px;
    height: 48px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.5rem;
    flex-shrink: 0;
}

.ga-icon {
    background: linear-gradient(135deg, #ea4335, #fbbc05);
}

.slack-icon {
    background: linear-gradient(135deg, #4a154b, #350d36);
}

.email-icon {
    background: linear-gradient(135deg, #1f2937, #4b5563);
}

.api-icon {
    background: linear-gradient(135deg, #059669, #047857);
}

.integration-details h4 {
    margin: 0 0 4px 0;
    color: #1f2937;
    font-size: 1.1rem;
    font-weight: 600;
}

.integration-details p {
    margin: 0;
    color: #6b7280;
    font-size: 0.9rem;
    line-height: 1.4;
}

/* 토글 스위치 */
.integration-toggle {
    flex-shrink: 0;
}

.integration-toggle input[type="checkbox"] {
    display: none;
}

.toggle-label {
    display: block;
    width: 50px;
    height: 28px;
    background: #e5e7eb;
    border-radius: 14px;
    position: relative;
    cursor: pointer;
    transition: background 0.3s ease;
}

.toggle-label::after {
    content: '';
    position: absolute;
    top: 2px;
    left: 2px;
    width: 24px;
    height: 24px;
    background: white;
    border-radius: 50%;
    transition: transform 0.3s ease;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.integration-toggle input[type="checkbox"]:checked + .toggle-label {
    background: #3b82f6;
}

.integration-toggle input[type="checkbox"]:checked + .toggle-label::after {
    transform: translateX(22px);
}

/* 연동 설정 */
.integration-config {
    padding: 0;
    max-height: 0;
    overflow: hidden;
    transition: all 0.3s ease;
    background: white;
}

.integration-config.active {
    padding: 20px;
    max-height: 1000px;
}

.config-form {
    margin-bottom: 24px;
}

.form-group {
    margin-bottom: 16px;
}

.form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16px;
}

.form-group label {
    display: block;
    margin-bottom: 6px;
    font-weight: 500;
    color: #374151;
    font-size: 0.9rem;
}

.form-group input,
.form-group select,
.form-group textarea {
    width: 100%;
    padding: 10px 12px;
    border: 1px solid #d1d5db;
    border-radius: 6px;
    font-size: 0.9rem;
    transition: border-color 0.2s ease;
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
    outline: none;
    border-color: #3b82f6;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.form-group input[type="password"] {
    font-family: monospace;
}

.checkbox-group {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.checkbox-group label {
    display: flex;
    align-items: center;
    gap: 8px;
    font-weight: normal;
    margin-bottom: 0;
    cursor: pointer;
}

.checkbox-group input[type="checkbox"] {
    width: auto;
}

.form-actions {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
}

/* 연동 기능 목록 */
.integration-features {
    background: #f8fafc;
    padding: 16px;
    border-radius: 8px;
    border: 1px solid #e5e7eb;
}

.integration-features h5 {
    margin: 0 0 12px 0;
    color: #1f2937;
    font-size: 0.95rem;
    font-weight: 600;
}

.integration-features ul {
    margin: 0;
    padding-left: 20px;
}

.integration-features li {
    color: #6b7280;
    font-size: 0.85rem;
    line-height: 1.5;
    margin-bottom: 4px;
}

/* API 엔드포인트 설정 */
.api-endpoints {
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    padding: 16px;
    background: #fafbfc;
    margin-bottom: 20px;
}

.api-endpoints h5 {
    margin: 0 0 16px 0;
    color: #1f2937;
    font-size: 1rem;
    font-weight: 600;
}

.endpoint-item {
    background: white;
    border: 1px solid #e5e7eb;
    border-radius: 6px;
    padding: 16px;
    margin-bottom: 12px;
}

.add-endpoint-btn {
    width: 100%;
    padding: 12px;
    border: 2px dashed #d1d5db;
    background: transparent;
    color: #6b7280;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
}

.add-endpoint-btn:hover {
    border-color: #3b82f6;
    color: #3b82f6;
    background: #f0f9ff;
}

.remove-endpoint {
    margin-top: 12px;
}

/* 연동 상태 요약 */
.integration-summary {
    background: white;
    border: 1px solid #e5e7eb;
    border-radius: 12px;
    padding: 24px;
    margin-top: 24px;
}

.integration-summary h4 {
    margin: 0 0 20px 0;
    color: #1f2937;
    font-size: 1.1rem;
    display: flex;
    align-items: center;
    gap: 8px;
}

.summary-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 20px;
}

.summary-item {
    text-align: center;
    padding: 16px;
    background: #f8fafc;
    border-radius: 8px;
    border: 1px solid #e5e7eb;
}

.summary-label {
    font-size: 0.85rem;
    color: #6b7280;
    margin-bottom: 6px;
}

.summary-value {
    font-size: 1.3rem;
    font-weight: 700;
    color: #1f2937;
}

/* 상태 표시 */
.status-indicator {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
}

.status-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    display: inline-block;
}

.status-dot.online {
    background: #10b981;
    box-shadow: 0 0 8px rgba(16, 185, 129, 0.4);
}

.status-dot.offline {
    background: #ef4444;
}

/* 미니 상태 표시기 */
.integration-status-mini {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 0.75rem;
    color: rgba(255, 255, 255, 0.8);
}

.status-mini-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    display: inline-block;
}

.status-mini-dot.online {
    background: #10b981;
    box-shadow: 0 0 4px rgba(16, 185, 129, 0.6);
}

.status-mini-dot.offline {
    background: #ef4444;
}

/* 로딩 오버레이 */
.integration-loading-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1000;
    display: flex;
    align-items: center;
    justify-content: center;
}

.loading-content {
    background: white;
    padding: 40px;
    border-radius: 12px;
    text-align: center;
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
}

.loading-content i {
    font-size: 2rem;
    color: #3b82f6;
    margin-bottom: 16px;
}

.loading-content p {
    margin: 0;
    color: #1f2937;
    font-weight: 500;
}

/* 버튼 스타일 확장 */
.btn-outline {
    background: transparent;
    border: 1px solid #d1d5db;
    color: #374151;
}

.btn-outline:hover {
    background: #f3f4f6;
    border-color: #9ca3af;
}

.btn-danger {
    background: #ef4444;
    color: white;
    border: none;
}

.btn-danger:hover {
    background: #dc2626;
}

.btn-sm {
    padding: 6px 12px;
    font-size: 0.8rem;
}

.btn-info {
    background: #06b6d4;
    color: white;
    border: none;
}

.btn-info:hover {
    background: #0891b2;
}

/* 반응형 디자인 */
@media (max-width: 768px) {
    .integrations-container {
        padding: 16px;
    }
    
    .integration-header {
        flex-direction: column;
        gap: 16px;
        text-align: center;
    }
    
    .integration-info {
        flex-direction: column;
        text-align: center;
    }
    
    .form-row {
        grid-template-columns: 1fr;
    }
    
    .summary-grid {
        grid-template-columns: 1fr;
    }
    
    .form-actions {
        flex-direction: column;
    }
    
    .integration-config.active {
        padding: 16px;
    }
}
/* 📐 레이아웃 개선 - 사용자 요청 사항 */

/* 실시간 미리보기 사이드바 개선 */
.live-preview-sidebar {
    min-width: 320px !important;
    flex-shrink: 0 !important;
    padding: 24px !important;
}

/* 데이터 필터링 영역을 더 넓게 */
#report .filter-grid {
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)) !important;
    gap: 30px 25px !important;
}

/* 전체 리포트 컨테이너 레이아웃 개선 */
.report-builder {
    display: flex !important;
    flex-direction: column;
    gap: 30px !important;
    align-items: flex-start !important;
}

.report-builder > .tab-content {
    flex: 1 !important;
    min-width: 0 !important;
}

/* 필터 섹션 스타일 개선 */
.filter-section {
    background: #ffffff !important;
    border-radius: 12px !important;
    padding: 25px !important;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08) !important;
    margin-bottom: 25px !important;
}

/* 필터 그룹 간격 조정 */
.filter-group {
    margin-bottom: 20px !important;
}

.filter-group label {
    margin-bottom: 8px !important;
    font-weight: 600 !important;
    color: #374151 !important;
}

/* 드롭다운과 입력 필드 크기 개선 */
.filter-group select,
.filter-group input {
    padding: 12px 16px !important;
    border-radius: 8px !important;
    border: 2px solid #e5e7eb !important;
    font-size: 14px !important;
}

/* 실시간 미리보기 내용 스타일 개선 */
.preview-stats .stat-item {
    margin-bottom: 16px !important;
}

.stat-label {
    font-size: 13px !important;
    color: #6b7280 !important;
    margin-bottom: 4px !important;
}

.stat-value {
    font-size: 16px !important;
    font-weight: 600 !important;
    color: #1f2937 !important;
}

/* 🎨 간단한 UI 개선 - 안전한 스타일링만 */

/* 필터 그룹 간격 조정 */
.filter-group {
    margin-bottom: 18px;
}

/* 드롭다운 패딩 약간 증가 */
.filter-group select {
    padding: 10px 12px;
}

/* 실시간 미리보기 패딩 증가 */
.live-preview-sidebar {
    padding: 22px;
}

/* 🚨 강제 레이아웃 수정 - 필터 영역 가로 배치 */
#report .filter-section {
    background: #ffffff !important;
    border-radius: 12px !important;
    padding: 20px !important;
    margin-bottom: 20px !important;
}

#report .filter-grid {
    display: grid !important;
    grid-template-columns: 1fr 1fr 1fr !important;
    gap: 20px !important;
    align-items: start !important;
}

#report .period-filter-container {
    grid-column: span 1 !important;
    display: block !important;
}

#report .filter-group {
    margin-bottom: 15px !important;
}

#report .filter-group label {
    display: block !important;
    margin-bottom: 5px !important;
    font-weight: 600 !important;
    color: #374151 !important;
}

#report .filter-group select,
#report .filter-group input {
    width: 100% !important;
    padding: 8px 12px !important;
    border: 1px solid #d1d5db !important;
    border-radius: 6px !important;
    font-size: 14px !important;
}
/* =========================
   리포트 필터링 섹션 레이아웃 (최종 수정안)
   ========================= */

#report .filter-section {
    background: #ffffff !important;
    border-radius: 12px !important;
    padding: 25px !important;
    margin-bottom: 25px !important;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08) !important;
}

#report .filter-grid {
    display: grid !important;
    /* 화면 크기에 맞춰 자동으로 컬럼 수가 조절되는 반응형 그리드로 설정합니다. */
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)) !important; 
    gap: 20px 25px !important;
    align-items: end !important; /* 필터 요소들을 하단에 정렬합니다. */
}

/* 기간 선택 필터가 전체 너비를 차지하지 않도록 수정합니다. */
#report .period-filter-container {
    /* grid-column 속성을 제거하여 다른 필터들과 동일하게 배치되도록 합니다. */
    display: flex !important;
    align-items: flex-end !important;
    gap: 15px !important;
    flex-wrap: wrap !important;
}

#report .filter-group {
    display: flex;
    flex-direction: column;
    gap: 8px; /* 레이블과 입력 필드 사이 간격 조정 */
}

#report .filter-group label {
    font-weight: 600 !important;
    color: #374151 !important;
    font-size: 14px !important;
}

#report .filter-group select,
#report .filter-group input {
    width: 100% !important;
    padding: 12px 16px !important;
    border: 2px solid #e5e7eb !important;
    border-radius: 8px !important;
    font-size: 14px !important;
    background: white !important;
    transition: border-color 0.2s ease;
}

#report .filter-group select:focus,
#report .filter-group input:focus {
    border-color: #4f46e5 !important;
    outline: none !important;
}

/* 기간 선택 드롭다운에 따라 사용자 지정 날짜 범위 표시/숨김 처리 */
#report .date-range-picker {
    display: none; /* 기본적으로 숨김 */
    width: 100%;
}

#report .date-range-picker.active {
    display: block; /* JS로 active 클래스 추가 시 보이도록 설정 */
}

#report .date-range-inputs {
    display: flex;
    gap: 10px;
    align-items: center;
}

#report .date-range-inputs input {
    flex: 1;
}
/* =======================================
   🚀 리포트 페이지 레이아웃 긴급 복구 코드 🚀
   ======================================= */

/* 메인 컨텐츠 영역을 두 개의 컬럼으로 나누는 핵심 규칙 */
#report .report-main-grid {
    display: grid !important; /* 그리드 레이아웃을 강제로 활성화합니다. */
    grid-template-columns: 1fr 650px !important; /* 왼쪽은 유동적인 공간, 오른쪽은 650px로 대폭 확장 */
    gap: 30px !important; /* 두 컬럼 사이의 간격을 늘립니다. */
    align-items: start; /* 컬럼들을 위쪽 기준으로 정렬합니다. */
    max-width: 1600px; /* 전체 최대 폭 확장 */
    margin: 0 auto; /* 가운데 정렬 */
}

/* 왼쪽 리포트 빌더 섹션이 넘치지 않도록 설정 */
#report .report-builder-section {
    min-width: 0; /* 내부 요소가 너무 클 때 레이아웃이 깨지는 것을 방지합니다. */
}

/* 오른쪽 실시간 미리보기 사이드바를 스크롤 따라오도록 고정 */
#report .live-preview-sidebar {
    position: sticky !important; /* 스크롤을 내려도 화면에 붙어있도록 설정합니다. */
    top: 20px !important; /* 상단에서 20px 떨어진 위치에 고정합니다. */
    max-height: calc(100vh - 40px); /* 화면 높이를 넘지 않도록 최대 높이를 제한합니다. */
    overflow-y: auto; /* 내용이 길어지면 스크롤바가 생깁니다. */
}


/* ========================================
   🤖 AI 분석 엔진 스타일
   ======================================== */

/* AI 분석 그리드 레이아웃 */
#report .ai-analysis-grid {
    display: grid !important;
    grid-template-columns: 1fr 1fr !important;
    gap: 20px !important;
    margin-top: 20px;
}

/* AI 옵션 카드 */
#report .ai-option {
    background: var(--content-bg, white);
    border: 2px solid var(--border-color, #e5e7eb);
    border-radius: 12px;
    padding: 20px;
    transition: all 0.3s ease;
    position: relative;
}

#report .ai-option:hover {
    border-color: #4f46e5;
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(79, 70, 229, 0.1);
}

/* AI 옵션 헤더 */
#report .ai-option-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 10px;
    font-weight: 600;
    font-size: 1.1rem;
    color: var(--text-primary, #374151);
}

#report .ai-option-header i {
    color: #4f46e5;
    font-size: 1.2rem;
}

/* AI 옵션 설명 */
#report .ai-option p {
    color: var(--text-secondary, #6b7280);
    font-size: 0.9rem;
    line-height: 1.5;
    margin-bottom: 15px;
}

/* AI 토글 스위치 */
#report .ai-toggle {
    position: relative;
    display: inline-block;
    width: 60px;
    height: 30px;
}

#report .ai-toggle input {
    opacity: 0;
    width: 0;
    height: 0;
}

#report .ai-slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    transition: 0.4s;
    border-radius: 30px;
}

#report .ai-slider:before {
    position: absolute;
    content: "";
    height: 22px;
    width: 22px;
    left: 4px;
    bottom: 4px;
    background-color: white;
    transition: 0.4s;
    border-radius: 50%;
}

#report .ai-toggle input:checked + .ai-slider {
    background-color: #4f46e5;
}

#report .ai-toggle input:checked + .ai-slider:before {
    transform: translateX(30px);
}

/* 반응형 디자인 */
@media (max-width: 768px) {
    #report .ai-analysis-grid {
        grid-template-columns: 1fr !important;
    }
}


/* ========================================
   🔧 최종 디버깅 및 강제 스타일 적용
   ======================================== */

/* 필터 그리드 강제 적용 */
#report .filter-grid {
    display: grid !important;
    grid-template-columns: repeat(3, 1fr) !important;
    gap: 20px !important;
    width: 100% !important;
    max-width: none !important;
}

/* 날짜 범위 선택기 강제 스타일 */
#report .date-range-picker {
    width: 100% !important;
    min-width: 0 !important;
}

#report .date-range-picker.show {
    display: block !important;
}

/* 템플릿 갤러리 강제 적용 */
#report .template-gallery {
    display: grid !important;
    grid-template-columns: repeat(3, 1fr) !important;
    gap: 20px !important;
    width: 100% !important;
}

/* 출력 형식 선택기 강제 적용 */
#report .format-selector {
    display: grid !important;
    grid-template-columns: repeat(4, 1fr) !important;
    gap: 12px !important;
    width: 100% !important;
}

/* AI 분석 그리드 강제 적용 */
#report .ai-analysis-grid {
    display: grid !important;
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 20px !important;
    width: 100% !important;
}

/* 디버깅용 테두리 (개발 중에만 사용) */
#report .filter-grid,
#report .template-gallery,
#report .format-selector,
#report .ai-analysis-grid {
    /* border: 2px dashed red; 필요시 주석 해제 */
}

/* 반응형 디자인 개선 */
@media (max-width: 1200px) {
    #report .filter-grid,
    #report .template-gallery {
        grid-template-columns: repeat(2, 1fr) !important;
    }
}

@media (max-width: 768px) {
    #report .filter-grid,
    #report .template-gallery,
    #report .format-selector,
    #report .ai-analysis-grid {
        grid-template-columns: 1fr !important;
    }
}

/* ===== 보안 강화된 AI 분석 스타일 (v5.0) ===== */

/* AI 분석 보안 정보 카드 */
.ai-analysis-security-info {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 15px;
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
}

.ai-analysis-security-info strong {
    font-size: 14px;
}

/* AI 분석 사용법 안내 */
.ai-analysis-notice {
    background: #f0f9ff;
    border: 1px solid #0ea5e9;
    border-radius: 6px;
    padding: 12px;
    margin-bottom: 10px;
}

.ai-analysis-notice p {
    margin: 8px 0 0 0;
    font-size: 13px;
    color: #0369a1;
    line-height: 1.4;
}

/* 미리보기 영역의 AI 분석 컨트롤 */
.ai-analysis-control {
    border-top: 1px solid #e5e7eb;
    margin: 15px 0;
    padding-top: 15px;
}

/* AI 분석 버튼 스타일 */
.ai-analyze-btn {
    padding: 6px 12px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-size: 12px;
    transition: all 0.3s ease;
    box-shadow: 0 2px 6px rgba(102, 126, 234, 0.3);
}

.ai-analyze-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
}

.ai-analyze-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
}

.ai-config-btn {
    padding: 6px 8px;
    background: #6b7280;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-size: 12px;
    transition: all 0.3s ease;
}

.ai-config-btn:hover {
    background: #4b5563;
}

/* AI 분석 결과 영역 */
#aiAnalysisContent {
    min-height: 40px;
    background: #f9fafb;
    border-radius: 6px;
    padding: 10px;
    font-size: 13px;
    line-height: 1.5;
}

/* AI 로딩 상태 */
.ai-loading {
    text-align: center;
    color: #6b7280;
    font-size: 13px;
}

/* AI 분석 결과 스타일링 */
#aiAnalysisContent strong {
    color: #1f2937;
}

#aiAnalysisContent div[style*="border-left"] {
    border-left: 3px solid #4f46e5 !important;
    padding-left: 8px !important;
    margin: 6px 0 !important;
    color: #374151;
}

/* 보안 표시 아이콘 */
.security-badge {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    background: #10b981;
    color: white;
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 11px;
    font-weight: 600;
}

/* 비용 절약 표시 */
.cost-saving-badge {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    background: #f59e0b;
    color: white;
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 11px;
    font-weight: 600;
}

/* 반응형 AI 분석 스타일 */
@media (max-width: 768px) {
    .ai-analysis-security-info {
        padding: 12px;
    }
    
    .ai-analysis-notice {
        padding: 10px;
    }
    
    .ai-analyze-btn,
    .ai-config-btn {
        font-size: 11px;
        padding: 5px 8px;
    }
}

/* ===== 기존 스타일 개선 ===== */

/* 기존 AI 토글 관련 스타일 숨김 (더 이상 사용하지 않음) */
.ai-toggle,
.ai-slider {
    display: none !important;
}

/* 필터 초기화 시 AI 영역도 초기화 */
.ai-reset-state {
    background: #f9fafb !important;
    color: #6b7280 !important;
}

/* ===== 리포트 모달 스타일 (확장된 버전) ===== */

/* 리포트 모달 기본 스타일 */
.report-modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    z-index: 10000;
    backdrop-filter: blur(4px);
}

.report-modal-content {
    position: relative;
    background: white;
    margin: 2% auto;
    padding: 0;
    border-radius: 12px;
    width: 90%;
    max-width: 1200px;
    max-height: 90vh;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    animation: reportModalSlideIn 0.3s ease-out;
}

@keyframes reportModalSlideIn {
    from {
        opacity: 0;
        transform: translateY(-30px) scale(0.95);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* 리포트 모달 헤더 */
.report-modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 25px;
    border-bottom: 2px solid #e5e7eb;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border-radius: 12px 12px 0 0;
}

.report-modal-title {
    margin: 0;
    font-size: 20px;
    font-weight: 700;
    display: flex;
    align-items: center;
    gap: 10px;
}

.report-modal-actions {
    display: flex;
    gap: 10px;
    align-items: center;
}

.report-modal-actions .btn {
    padding: 8px 16px;
    font-size: 14px;
    border-radius: 6px;
    transition: all 0.3s ease;
}

.report-modal-actions .btn-secondary {
    background: rgba(255, 255, 255, 0.2);
    color: white;
    border: 1px solid rgba(255, 255, 255, 0.3);
}

.report-modal-actions .btn-secondary:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: translateY(-1px);
}

.report-modal-actions .close-btn {
    background: rgba(255, 255, 255, 0.2);
    color: white;
    border: none;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    font-size: 18px;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.report-modal-actions .close-btn:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: rotate(90deg);
}

/* 리포트 모달 바디 */
.report-modal-body {
    padding: 0;
    max-height: calc(90vh - 80px);
    overflow-y: auto;
}

/* 풀 리포트 컨테이너 */
.full-report-container {
    padding: 30px;
    background: white;
    font-family: 'Noto Sans KR', -apple-system, BlinkMacSystemFont, sans-serif;
    line-height: 1.6;
    color: #1f2937;
}

.full-report-container h1 {
    color: #1f2937;
    font-size: 28px;
    font-weight: 700;
    margin-bottom: 10px;
    text-align: center;
}

.full-report-container h2 {
    color: #374151;
    font-size: 22px;
    font-weight: 600;
    margin: 25px 0 15px 0;
    border-bottom: 2px solid #e5e7eb;
    padding-bottom: 8px;
}

.full-report-container h3 {
    color: #4b5563;
    font-size: 18px;
    font-weight: 600;
    margin: 20px 0 12px 0;
}

.full-report-container h4 {
    color: #6b7280;
    font-size: 15px;
    font-weight: 600;
    margin: 15px 0 8px 0;
}

/* 리포트 내 그리드 레이아웃 */
.full-report-container [style*="display: grid"] {
    gap: 15px !important;
}

/* 리포트 내 카드 스타일 개선 */
.full-report-container [style*="background: #f0f9ff"],
.full-report-container [style*="background: #f0fdf4"],
.full-report-container [style*="background: #fef2f2"],
.full-report-container [style*="background: #fef3c7"],
.full-report-container [style*="background: #faf5ff"] {
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05) !important;
    transition: all 0.3s ease !important;
}

.full-report-container [style*="background: #f0f9ff"]:hover,
.full-report-container [style*="background: #f0fdf4"]:hover,
.full-report-container [style*="background: #fef2f2"]:hover,
.full-report-container [style*="background: #fef3c7"]:hover,
.full-report-container [style*="background: #faf5ff"]:hover {
    transform: translateY(-1px) !important;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1) !important;
}

/* 스크롤바 스타일 */
.report-modal-body::-webkit-scrollbar {
    width: 8px;
}

.report-modal-body::-webkit-scrollbar-track {
    background: #f1f5f9;
    border-radius: 4px;
}

.report-modal-body::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 4px;
    transition: background 0.3s ease;
}

.report-modal-body::-webkit-scrollbar-thumb:hover {
    background: #94a3b8;
}

/* 인쇄용 스타일 */
@media print {
    .report-modal {
        display: block !important;
        position: static !important;
        background: none !important;
        width: auto !important;
        height: auto !important;
    }
    
    .report-modal-content {
        margin: 0 !important;
        padding: 0 !important;
        box-shadow: none !important;
        max-width: none !important;
        max-height: none !important;
        border-radius: 0 !important;
    }
    
    .report-modal-header {
        background: white !important;
        color: black !important;
        border-bottom: 2px solid #000 !important;
        print-color-adjust: exact;
    }
    
    .report-modal-actions {
        display: none !important;
    }
    
    .full-report-container {
        padding: 20px !important;
        font-size: 12px !important;
        line-height: 1.4 !important;
    }
    
    .full-report-container h1 {
        font-size: 24px !important;
    }
    
    .full-report-container h2 {
        font-size: 18px !important;
    }
    
    .full-report-container h3 {
        font-size: 16px !important;
    }
    
    .full-report-container h4 {
        font-size: 14px !important;
    }
}

/* 반응형 리포트 모달 */
@media (max-width: 1024px) {
    .report-modal-content {
        width: 95%;
        margin: 1% auto;
    }
    
    .report-modal-header {
        padding: 15px 20px;
    }
    
    .report-modal-title {
        font-size: 18px;
    }
    
    .full-report-container {
        padding: 20px;
    }
}

@media (max-width: 768px) {
    .report-modal-content {
        width: 98%;
        margin: 0.5% auto;
        max-height: 95vh;
    }
    
    .report-modal-header {
        padding: 12px 15px;
        flex-direction: column;
        gap: 10px;
        align-items: flex-start;
    }
    
    .report-modal-title {
        font-size: 16px;
    }
    
    .report-modal-actions {
        width: 100%;
        justify-content: space-between;
    }
    
    .full-report-container {
        padding: 15px;
        font-size: 14px;
    }
    
    .full-report-container h1 {
        font-size: 22px;
    }
    
    .full-report-container h2 {
        font-size: 18px;
    }
    
    .full-report-container h3 {
        font-size: 16px;
    }
    
    /* 모바일에서 그리드를 단일 컬럼으로 */
    .full-report-container [style*="grid-template-columns: repeat(2, 1fr)"],
    .full-report-container [style*="grid-template-columns: repeat(3, 1fr)"],
    .full-report-container [style*="grid-template-columns: repeat(4, 1fr)"] {
        grid-template-columns: 1fr !important;
    }
}

/* 리포트 로딩 애니메이션 */
.report-loading {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 40px;
    color: #6b7280;
}

.report-loading-spinner {
    width: 40px;
    height: 40px;
    border: 4px solid #e5e7eb;
    border-top: 4px solid #3b82f6;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin-bottom: 15px;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* 리포트 성공/에러 상태 */
.report-success {
    color: #10b981;
    background: #f0fdf4;
    border: 1px solid #bbf7d0;
    padding: 12px;
    border-radius: 6px;
    margin: 10px 0;
}

.report-error {
    color: #ef4444;
    background: #fef2f2;
    border: 1px solid #fecaca;
    padding: 12px;
    border-radius: 6px;
    margin: 10px 0;
}
/* =========================
   멋진 리포트 템플릿 스타일 추가
   ========================= */

/* 리포트 모달 전체 스타일 개선 */
.report-modal {
    background: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(5px);
}

.report-modal-content {
    background: #ffffff;
    border-radius: 16px;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    max-width: 90vw;
    max-height: 90vh;
    width: auto;
    height: auto;
}

.report-modal-body {
    background: #ffffff;
    border-radius: 12px;
    max-height: 80vh;
    overflow-y: auto;
    padding: 0;
}

/* 공통 리포트 컨테이너 */
.report-content {
    font-family: 'Noto Sans KR', -apple-system, BlinkMacSystemFont, sans-serif;
    line-height: 1.6;
    color: #1f2937;
    background: #ffffff;
    padding: 40px;
    border-radius: 12px;
}

/* 리포트 헤더 스타일 */
.report-header {
    text-align: center;
    padding: 30px 0 40px;
    border-bottom: 3px solid #e5e7eb;
    margin-bottom: 30px;
    background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
    border-radius: 12px 12px 0 0;
    position: relative;
}

.report-header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, #4f46e5, #7c3aed, #ec4899);
}

.report-title {
    font-size: 2.5rem;
    font-weight: 700;
    color: #1f2937;
    margin: 0 0 15px;
    background: linear-gradient(135deg, #4f46e5, #7c3aed);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.report-meta {
    display: flex;
    justify-content: center;
    gap: 30px;
    font-size: 1rem;
    color: #6b7280;
    margin-top: 15px;
}

.report-meta span {
    padding: 8px 16px;
    background: #ffffff;
    border-radius: 20px;
    border: 1px solid #e5e7eb;
    font-weight: 500;
}

/* 리포트 섹션 공통 스타일 */
.report-section {
    margin-bottom: 40px;
    padding: 25px;
    background: #ffffff;
    border-radius: 12px;
    border: 1px solid #e5e7eb;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.report-section h2 {
    font-size: 1.5rem;
    font-weight: 600;
    color: #1f2937;
    margin: 0 0 20px;
    padding-bottom: 10px;
    border-bottom: 2px solid #e5e7eb;
    display: flex;
    align-items: center;
    gap: 10px;
}

.report-section h3 {
    font-size: 1.25rem;
    font-weight: 600;
    color: #374151;
    margin: 20px 0 15px;
}

/* KPI 그리드 스타일 */
.kpi-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin: 20px 0;
}

.kpi-card {
    background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
    padding: 20px;
    border-radius: 12px;
    text-align: center;
    border: 1px solid #e5e7eb;
    transition: transform 0.2s ease;
}

.kpi-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.kpi-card h3 {
    font-size: 0.9rem;
    font-weight: 500;
    color: #6b7280;
    margin: 0 0 10px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.kpi-value {
    font-size: 2rem;
    font-weight: 700;
    color: #4f46e5;
    margin: 0;
}

/* 퍼널 스타일 */
.report-funnel {
    background: #f9fafb;
    border-radius: 12px;
    padding: 30px;
    margin: 20px 0;
}

.funnel-step {
    display: flex;
    align-items: center;
    margin-bottom: 25px;
    position: relative;
}

.funnel-step:last-child {
    margin-bottom: 0;
}

.funnel-info {
    min-width: 200px;
    display: flex;
    flex-direction: column;
    margin-right: 20px;
}

.funnel-stage {
    font-weight: 600;
    font-size: 1rem;
    color: #1f2937;
    margin-bottom: 5px;
}

.funnel-count {
    font-size: 1.5rem;
    font-weight: 700;
    color: #4f46e5;
}

.funnel-bar-container {
    flex: 1;
    height: 20px;
    background: #e5e7eb;
    border-radius: 10px;
    overflow: hidden;
    margin-right: 20px;
}

.funnel-bar {
    height: 100%;
    background: linear-gradient(90deg, #4f46e5, #7c3aed);
    border-radius: 10px;
    transition: width 0.5s ease;
    position: relative;
}

.funnel-bar::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    animation: shimmer 2s infinite;
}

@keyframes shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

.funnel-conversion {
    min-width: 80px;
    text-align: center;
    font-weight: 600;
    color: #059669;
    display: flex;
    align-items: center;
    gap: 5px;
}

.funnel-conversion i {
    color: #10b981;
}

/* 테이블 스타일 */
.report-table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
    background: #ffffff;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.report-table thead {
    background: linear-gradient(135deg, #4f46e5, #7c3aed);
    color: white;
}

.report-table th,
.report-table td {
    padding: 12px 15px;
    text-align: left;
    border-bottom: 1px solid #e5e7eb;
}

.report-table th {
    font-weight: 600;
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.report-table tbody tr:hover {
    background: #f8fafc;
}

.report-table td strong {
    color: #4f46e5;
    font-weight: 600;
}

/* 차트 컨테이너 */
.report-chart-container {
    background: #ffffff;
    padding: 20px;
    border-radius: 8px;
    border: 1px solid #e5e7eb;
    margin: 20px 0;
}

/* 템플릿별 특화 스타일 */

/* 1. 경영진 요약 템플릿 */
.executive-summary {
    background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
}

.executive-summary .report-title::before {
    content: '📈 ';
}

.executive-summary .kpi-card {
    background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
}

/* 2. 상세 분석 템플릿 */
.detailed-analysis {
    background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
}

.detailed-analysis .report-title::before {
    content: '📊 ';
}

/* 3. 채용 퍼널 템플릿 */
.recruitment-funnel {
    background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%);
}

.recruitment-funnel .report-title::before {
    content: '🔄 ';
}

/* 4. 월간 리포트 템플릿 */
.monthly-report {
    background: linear-gradient(135deg, #fef2f2 0%, #fecaca 100%);
}

.monthly-report .report-title::before {
    content: '📅 ';
}

/* 5. 면접관 성과 템플릿 */
.interviewer-performance {
    background: linear-gradient(135deg, #f3e8ff 0%, #e9d5ff 100%);
}

.interviewer-performance .report-title::before {
    content: '👤 ';
}

/* 6. 비용 효율성 템플릿 */
.cost-analysis {
    background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
}

.cost-analysis .report-title::before {
    content: '💰 ';
}

/* 미리보기 스타일 */
.preview-content {
    background: #ffffff;
    border-radius: 12px;
    padding: 20px;
    border: 1px solid #e5e7eb;
}

.preview-header h4 {
    font-size: 1.25rem;
    font-weight: 600;
    color: #1f2937;
    margin: 0 0 10px;
}

.preview-count {
    background: #4f46e5;
    color: white;
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 500;
}

.preview-summary {
    margin: 20px 0;
}

.preview-metrics {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
    margin: 15px 0;
}

.metric {
    background: #f8fafc;
    padding: 15px;
    border-radius: 8px;
    border: 1px solid #e5e7eb;
}

.metric-label {
    display: block;
    font-size: 0.8rem;
    color: #6b7280;
    margin-bottom: 5px;
    font-weight: 500;
}

.metric-value {
    display: block;
    font-size: 1.2rem;
    font-weight: 700;
    color: #4f46e5;
}

.preview-charts {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    margin: 15px 0;
}

.chart-info {
    background: #f8fafc;
    padding: 15px;
    border-radius: 8px;
    border: 1px solid #e5e7eb;
    display: flex;
    flex-direction: column;
    gap: 5px;
}

.chart-info span:first-child {
    font-weight: 600;
    color: #1f2937;
}

.chart-info span:last-child {
    font-size: 0.9rem;
    color: #6b7280;
}

.funnel-preview {
    background: #f8fafc;
    padding: 20px;
    border-radius: 8px;
    border: 1px solid #e5e7eb;
}

.funnel-stage {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 0;
    border-bottom: 1px solid #e5e7eb;
    margin-bottom: 10px;
}

.funnel-stage span:first-child {
    font-weight: 600;
    color: #1f2937;
}

.funnel-stage span:last-child {
    font-weight: 700;
    color: #4f46e5;
    font-size: 1.1rem;
}

.funnel-bottleneck {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 0;
}

.funnel-bottleneck span:first-child {
    font-weight: 600;
    color: #1f2937;
}

.funnel-bottleneck span:last-child {
    color: #f59e0b;
    font-style: italic;
}

.no-data {
    text-align: center;
    color: #6b7280;
    font-style: italic;
    padding: 20px;
}

.btn-preview-ai {
    background: linear-gradient(135deg, #4f46e5, #7c3aed);
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 8px;
    width: 100%;
    justify-content: center;
    margin-top: 15px;
}

.btn-preview-ai:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
}

.btn-preview-ai:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
}

.ai-insights {
    background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
    border: 1px solid #3b82f6;
    border-radius: 8px;
    padding: 15px;
    margin-top: 15px;
}

.insights-header {
    display: flex;
    align-items: center;
    gap: 8px;
    font-weight: 600;
    color: #1e40af;
    margin-bottom: 10px;
}

.insights-content p {
    margin: 5px 0;
    color: #1f2937;
    font-size: 0.9rem;
    line-height: 1.4;
}

/* 🔥 실시간 미리보기 콘텐츠 전체 너비 사용 강화 */
.preview-content {
    width: 100%;
    max-width: 100%;
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

.preview-content * {
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
}

/* 리포트 콘텐츠 전체 너비 강화 */
.preview-content .report-content,
.preview-content .executive-summary {
    width: 100%;
    max-width: 100%;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.preview-content .report-header {
    width: 100%;
    max-width: 100%;
    margin: 0 0 20px 0;
    padding: 20px;
    box-sizing: border-box;
}

.preview-content .report-section {
    width: 100%;
    max-width: 100%;
    margin: 0 0 20px 0;
    padding: 0;
}

.preview-content .kpi-grid {
    width: 100%;
    max-width: 100%;
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin: 0;
    padding: 0;
}

.preview-content .kpi-card {
    width: 100%;
    max-width: 100%;
    margin: 0;
    padding: 15px 20px;
    box-sizing: border-box;
}

/* 반응형 조정 */
@media (max-width: 1600px) {
    .report-main-grid {
        grid-template-columns: 1fr 800px;
        max-width: 1800px;
    }
    
    .live-preview-sidebar {
        min-width: 800px;
        width: 800px;
    }
}

@media (max-width: 1200px) {
    .report-main-grid {
        grid-template-columns: 1fr;
        max-width: 1200px;
    }
    
    .live-preview-sidebar {
        min-width: 100%;
        width: 100%;
        position: static;
        max-height: none;
    }
}


/* ===== 강력한 우선순위를 위한 ID 선택자 추가 ===== */
#reportModal .report-modal-header,
#reportModal .report-modal-header * {
    background-color: #4f46e5 !important;
    color: white !important;
}

#reportModal .report-modal-title {
    color: white !important;
    font-weight: 600 !important;
}

#reportModal .report-modal-actions .btn {
    border: 2px solid white !important;
    background-color: transparent !important;
    color: white !important;
}

#reportModal .report-modal-actions .close-btn {
    color: white !important;
    background: none !important;
    border: none !important;
    font-size: 1.5rem !important;
}
